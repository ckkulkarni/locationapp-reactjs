fe6b327836c69ee2f16fa75d7de6f248
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createPathHook = createPathHook;
exports.usePathOptions = usePathOptions;
var _react = require("react");
var _context = require("./context.js");
var _events = require("./events.js");
var _layer = require("./layer.js");
var _pane = require("./pane.js");
function usePathOptions(element, props) {
  const optionsRef = (0, _react.useRef)();
  (0, _react.useEffect)(function updatePathOptions() {
    if (props.pathOptions !== optionsRef.current) {
      const options = props.pathOptions ?? {};
      element.instance.setStyle(options);
      optionsRef.current = options;
    }
  }, [element, props]);
}
function createPathHook(useElement) {
  return function usePath(props) {
    const context = (0, _context.useLeafletContext)();
    const elementRef = useElement((0, _pane.withPane)(props, context), context);
    (0, _events.useEventHandlers)(elementRef.current, props.eventHandlers);
    (0, _layer.useLayerLifecycle)(elementRef.current, context);
    usePathOptions(elementRef.current, props);
    return elementRef;
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2NvbnRleHQiLCJfZXZlbnRzIiwiX2xheWVyIiwiX3BhbmUiLCJ1c2VQYXRoT3B0aW9ucyIsImVsZW1lbnQiLCJwcm9wcyIsIm9wdGlvbnNSZWYiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1cGRhdGVQYXRoT3B0aW9ucyIsInBhdGhPcHRpb25zIiwiY3VycmVudCIsIm9wdGlvbnMiLCJpbnN0YW5jZSIsInNldFN0eWxlIiwiY3JlYXRlUGF0aEhvb2siLCJ1c2VFbGVtZW50IiwidXNlUGF0aCIsImNvbnRleHQiLCJ1c2VMZWFmbGV0Q29udGV4dCIsImVsZW1lbnRSZWYiLCJ3aXRoUGFuZSIsInVzZUV2ZW50SGFuZGxlcnMiLCJldmVudEhhbmRsZXJzIiwidXNlTGF5ZXJMaWZlY3ljbGUiXSwic291cmNlcyI6WyJwYXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTGVhZmxldENvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgdXNlRXZlbnRIYW5kbGVycyB9IGZyb20gJy4vZXZlbnRzLmpzJztcbmltcG9ydCB7IHVzZUxheWVyTGlmZWN5Y2xlIH0gZnJvbSAnLi9sYXllci5qcyc7XG5pbXBvcnQgeyB3aXRoUGFuZSB9IGZyb20gJy4vcGFuZS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gdXNlUGF0aE9wdGlvbnMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICBjb25zdCBvcHRpb25zUmVmID0gdXNlUmVmKCk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uIHVwZGF0ZVBhdGhPcHRpb25zKCkge1xuICAgICAgICBpZiAocHJvcHMucGF0aE9wdGlvbnMgIT09IG9wdGlvbnNSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHByb3BzLnBhdGhPcHRpb25zID8/IHt9O1xuICAgICAgICAgICAgZWxlbWVudC5pbnN0YW5jZS5zZXRTdHlsZShvcHRpb25zKTtcbiAgICAgICAgICAgIG9wdGlvbnNSZWYuY3VycmVudCA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHByb3BzXG4gICAgXSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGF0aEhvb2sodXNlRWxlbWVudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiB1c2VQYXRoKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB1c2VMZWFmbGV0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCBlbGVtZW50UmVmID0gdXNlRWxlbWVudCh3aXRoUGFuZShwcm9wcywgY29udGV4dCksIGNvbnRleHQpO1xuICAgICAgICB1c2VFdmVudEhhbmRsZXJzKGVsZW1lbnRSZWYuY3VycmVudCwgcHJvcHMuZXZlbnRIYW5kbGVycyk7XG4gICAgICAgIHVzZUxheWVyTGlmZWN5Y2xlKGVsZW1lbnRSZWYuY3VycmVudCwgY29udGV4dCk7XG4gICAgICAgIHVzZVBhdGhPcHRpb25zKGVsZW1lbnRSZWYuY3VycmVudCwgcHJvcHMpO1xuICAgICAgICByZXR1cm4gZWxlbWVudFJlZjtcbiAgICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsT0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBSixPQUFBO0FBQ08sU0FBU0ssY0FBY0EsQ0FBQ0MsT0FBTyxFQUFFQyxLQUFLLEVBQUU7RUFDM0MsTUFBTUMsVUFBVSxHQUFHLElBQUFDLGFBQU0sR0FBRTtFQUMzQixJQUFBQyxnQkFBUyxFQUFDLFNBQVNDLGlCQUFpQkEsQ0FBQSxFQUFHO0lBQ25DLElBQUlKLEtBQUssQ0FBQ0ssV0FBVyxLQUFLSixVQUFVLENBQUNLLE9BQU8sRUFBRTtNQUMxQyxNQUFNQyxPQUFPLEdBQUdQLEtBQUssQ0FBQ0ssV0FBVyxJQUFJLENBQUMsQ0FBQztNQUN2Q04sT0FBTyxDQUFDUyxRQUFRLENBQUNDLFFBQVEsQ0FBQ0YsT0FBTyxDQUFDO01BQ2xDTixVQUFVLENBQUNLLE9BQU8sR0FBR0MsT0FBTztJQUNoQztFQUNKLENBQUMsRUFBRSxDQUNDUixPQUFPLEVBQ1BDLEtBQUssQ0FDUixDQUFDO0FBQ047QUFDTyxTQUFTVSxjQUFjQSxDQUFDQyxVQUFVLEVBQUU7RUFDdkMsT0FBTyxTQUFTQyxPQUFPQSxDQUFDWixLQUFLLEVBQUU7SUFDM0IsTUFBTWEsT0FBTyxHQUFHLElBQUFDLDBCQUFpQixHQUFFO0lBQ25DLE1BQU1DLFVBQVUsR0FBR0osVUFBVSxDQUFDLElBQUFLLGNBQVEsRUFBQ2hCLEtBQUssRUFBRWEsT0FBTyxDQUFDLEVBQUVBLE9BQU8sQ0FBQztJQUNoRSxJQUFBSSx3QkFBZ0IsRUFBQ0YsVUFBVSxDQUFDVCxPQUFPLEVBQUVOLEtBQUssQ0FBQ2tCLGFBQWEsQ0FBQztJQUN6RCxJQUFBQyx3QkFBaUIsRUFBQ0osVUFBVSxDQUFDVCxPQUFPLEVBQUVPLE9BQU8sQ0FBQztJQUM5Q2YsY0FBYyxDQUFDaUIsVUFBVSxDQUFDVCxPQUFPLEVBQUVOLEtBQUssQ0FBQztJQUN6QyxPQUFPZSxVQUFVO0VBQ3JCLENBQUM7QUFDTCJ9