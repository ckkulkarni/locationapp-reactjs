7e86be60a5a9adfa9d18a3a2145a5a17
"use strict";
'use client';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Identity = void 0;
exports.useSlider = useSlider;
exports.valueToPercent = valueToPercent;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var React = _interopRequireWildcard(require("react"));
var _utils = require("@mui/utils");
var _utils2 = require("../utils");
function _getRequireWildcardCache(nodeInterop) {
  if (typeof WeakMap !== "function") return null;
  var cacheBabelInterop = new WeakMap();
  var cacheNodeInterop = new WeakMap();
  return (_getRequireWildcardCache = function (nodeInterop) {
    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
  })(nodeInterop);
}
function _interopRequireWildcard(obj, nodeInterop) {
  if (!nodeInterop && obj && obj.__esModule) {
    return obj;
  }
  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }
  var cache = _getRequireWildcardCache(nodeInterop);
  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }
  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var key in obj) {
    if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }
  newObj.default = obj;
  if (cache) {
    cache.set(obj, newObj);
  }
  return newObj;
}
const INTENTIONAL_DRAG_COUNT_THRESHOLD = 2;
function asc(a, b) {
  return a - b;
}
function clamp(value, min, max) {
  if (value == null) {
    return min;
  }
  return Math.min(Math.max(min, value), max);
}
function findClosest(values, currentValue) {
  var _values$reduce;
  const {
    index: closestIndex
  } = (_values$reduce = values.reduce((acc, value, index) => {
    const distance = Math.abs(currentValue - value);
    if (acc === null || distance < acc.distance || distance === acc.distance) {
      return {
        distance,
        index
      };
    }
    return acc;
  }, null)) != null ? _values$reduce : {};
  return closestIndex;
}
function trackFinger(event, touchId) {
  // The event is TouchEvent
  if (touchId.current !== undefined && event.changedTouches) {
    const touchEvent = event;
    for (let i = 0; i < touchEvent.changedTouches.length; i += 1) {
      const touch = touchEvent.changedTouches[i];
      if (touch.identifier === touchId.current) {
        return {
          x: touch.clientX,
          y: touch.clientY
        };
      }
    }
    return false;
  }

  // The event is MouseEvent
  return {
    x: event.clientX,
    y: event.clientY
  };
}
function valueToPercent(value, min, max) {
  return (value - min) * 100 / (max - min);
}
function percentToValue(percent, min, max) {
  return (max - min) * percent + min;
}
function getDecimalPrecision(num) {
  // This handles the case when num is very small (0.00000001), js will turn this into 1e-8.
  // When num is bigger than 1 or less than -1 it won't get converted to this notation so it's fine.
  if (Math.abs(num) < 1) {
    const parts = num.toExponential().split('e-');
    const matissaDecimalPart = parts[0].split('.')[1];
    return (matissaDecimalPart ? matissaDecimalPart.length : 0) + parseInt(parts[1], 10);
  }
  const decimalPart = num.toString().split('.')[1];
  return decimalPart ? decimalPart.length : 0;
}
function roundValueToStep(value, step, min) {
  const nearest = Math.round((value - min) / step) * step + min;
  return Number(nearest.toFixed(getDecimalPrecision(step)));
}
function setValueIndex({
  values,
  newValue,
  index
}) {
  const output = values.slice();
  output[index] = newValue;
  return output.sort(asc);
}
function focusThumb({
  sliderRef,
  activeIndex,
  setActive
}) {
  var _sliderRef$current, _doc$activeElement;
  const doc = (0, _utils.unstable_ownerDocument)(sliderRef.current);
  if (!((_sliderRef$current = sliderRef.current) != null && _sliderRef$current.contains(doc.activeElement)) || Number(doc == null || (_doc$activeElement = doc.activeElement) == null ? void 0 : _doc$activeElement.getAttribute('data-index')) !== activeIndex) {
    var _sliderRef$current2;
    (_sliderRef$current2 = sliderRef.current) == null ? void 0 : _sliderRef$current2.querySelector(`[type="range"][data-index="${activeIndex}"]`).focus();
  }
  if (setActive) {
    setActive(activeIndex);
  }
}
function areValuesEqual(newValue, oldValue) {
  if (typeof newValue === 'number' && typeof oldValue === 'number') {
    return newValue === oldValue;
  }
  if (typeof newValue === 'object' && typeof oldValue === 'object') {
    return (0, _utils2.areArraysEqual)(newValue, oldValue);
  }
  return false;
}
const axisProps = {
  horizontal: {
    offset: percent => ({
      left: `${percent}%`
    }),
    leap: percent => ({
      width: `${percent}%`
    })
  },
  'horizontal-reverse': {
    offset: percent => ({
      right: `${percent}%`
    }),
    leap: percent => ({
      width: `${percent}%`
    })
  },
  vertical: {
    offset: percent => ({
      bottom: `${percent}%`
    }),
    leap: percent => ({
      height: `${percent}%`
    })
  }
};
const Identity = x => x;

// TODO: remove support for Safari < 13.
// https://caniuse.com/#search=touch-action
//
// Safari, on iOS, supports touch action since v13.
// Over 80% of the iOS phones are compatible
// in August 2020.
// Utilizing the CSS.supports method to check if touch-action is supported.
// Since CSS.supports is supported on all but Edge@12 and IE and touch-action
// is supported on both Edge@12 and IE if CSS.supports is not available that means that
// touch-action will be supported
exports.Identity = Identity;
let cachedSupportsTouchActionNone;
function doesSupportTouchActionNone() {
  if (cachedSupportsTouchActionNone === undefined) {
    if (typeof CSS !== 'undefined' && typeof CSS.supports === 'function') {
      cachedSupportsTouchActionNone = CSS.supports('touch-action', 'none');
    } else {
      cachedSupportsTouchActionNone = true;
    }
  }
  return cachedSupportsTouchActionNone;
}
/**
 *
 * Demos:
 *
 * - [Slider](https://mui.com/base-ui/react-slider/#hook)
 *
 * API:
 *
 * - [useSlider API](https://mui.com/base-ui/react-slider/hooks-api/#use-slider)
 */
function useSlider(parameters) {
  const {
    'aria-labelledby': ariaLabelledby,
    defaultValue,
    disabled = false,
    disableSwap = false,
    isRtl = false,
    marks: marksProp = false,
    max = 100,
    min = 0,
    name,
    onChange,
    onChangeCommitted,
    orientation = 'horizontal',
    rootRef: ref,
    scale = Identity,
    step = 1,
    tabIndex,
    value: valueProp
  } = parameters;
  const touchId = React.useRef();
  // We can't use the :active browser pseudo-classes.
  // - The active state isn't triggered when clicking on the rail.
  // - The active state isn't transferred when inversing a range slider.
  const [active, setActive] = React.useState(-1);
  const [open, setOpen] = React.useState(-1);
  const [dragging, setDragging] = React.useState(false);
  const moveCount = React.useRef(0);
  const [valueDerived, setValueState] = (0, _utils.unstable_useControlled)({
    controlled: valueProp,
    default: defaultValue != null ? defaultValue : min,
    name: 'Slider'
  });
  const handleChange = onChange && ((event, value, thumbIndex) => {
    // Redefine target to allow name and value to be read.
    // This allows seamless integration with the most popular form libraries.
    // https://github.com/mui/material-ui/issues/13485#issuecomment-676048492
    // Clone the event to not override `target` of the original event.
    const nativeEvent = event.nativeEvent || event;
    // @ts-ignore The nativeEvent is function, not object
    const clonedEvent = new nativeEvent.constructor(nativeEvent.type, nativeEvent);
    Object.defineProperty(clonedEvent, 'target', {
      writable: true,
      value: {
        value,
        name
      }
    });
    onChange(clonedEvent, value, thumbIndex);
  });
  const range = Array.isArray(valueDerived);
  let values = range ? valueDerived.slice().sort(asc) : [valueDerived];
  values = values.map(value => clamp(value, min, max));
  const marks = marksProp === true && step !== null ? [...Array(Math.floor((max - min) / step) + 1)].map((_, index) => ({
    value: min + step * index
  })) : marksProp || [];
  const marksValues = marks.map(mark => mark.value);
  const {
    isFocusVisibleRef,
    onBlur: handleBlurVisible,
    onFocus: handleFocusVisible,
    ref: focusVisibleRef
  } = (0, _utils.unstable_useIsFocusVisible)();
  const [focusedThumbIndex, setFocusedThumbIndex] = React.useState(-1);
  const sliderRef = React.useRef();
  const handleFocusRef = (0, _utils.unstable_useForkRef)(focusVisibleRef, sliderRef);
  const handleRef = (0, _utils.unstable_useForkRef)(ref, handleFocusRef);
  const createHandleHiddenInputFocus = otherHandlers => event => {
    var _otherHandlers$onFocu;
    const index = Number(event.currentTarget.getAttribute('data-index'));
    handleFocusVisible(event);
    if (isFocusVisibleRef.current === true) {
      setFocusedThumbIndex(index);
    }
    setOpen(index);
    otherHandlers == null || (_otherHandlers$onFocu = otherHandlers.onFocus) == null ? void 0 : _otherHandlers$onFocu.call(otherHandlers, event);
  };
  const createHandleHiddenInputBlur = otherHandlers => event => {
    var _otherHandlers$onBlur;
    handleBlurVisible(event);
    if (isFocusVisibleRef.current === false) {
      setFocusedThumbIndex(-1);
    }
    setOpen(-1);
    otherHandlers == null || (_otherHandlers$onBlur = otherHandlers.onBlur) == null ? void 0 : _otherHandlers$onBlur.call(otherHandlers, event);
  };
  (0, _utils.unstable_useEnhancedEffect)(() => {
    if (disabled && sliderRef.current.contains(document.activeElement)) {
      var _document$activeEleme;
      // This is necessary because Firefox and Safari will keep focus
      // on a disabled element:
      // https://codesandbox.io/s/mui-pr-22247-forked-h151h?file=/src/App.js
      // @ts-ignore
      (_document$activeEleme = document.activeElement) == null ? void 0 : _document$activeEleme.blur();
    }
  }, [disabled]);
  if (disabled && active !== -1) {
    setActive(-1);
  }
  if (disabled && focusedThumbIndex !== -1) {
    setFocusedThumbIndex(-1);
  }
  const createHandleHiddenInputChange = otherHandlers => event => {
    var _otherHandlers$onChan;
    (_otherHandlers$onChan = otherHandlers.onChange) == null ? void 0 : _otherHandlers$onChan.call(otherHandlers, event);
    const index = Number(event.currentTarget.getAttribute('data-index'));
    const value = values[index];
    const marksIndex = marksValues.indexOf(value);

    // @ts-ignore
    let newValue = event.target.valueAsNumber;
    if (marks && step == null) {
      const maxMarksValue = marksValues[marksValues.length - 1];
      if (newValue > maxMarksValue) {
        newValue = maxMarksValue;
      } else if (newValue < marksValues[0]) {
        newValue = marksValues[0];
      } else {
        newValue = newValue < value ? marksValues[marksIndex - 1] : marksValues[marksIndex + 1];
      }
    }
    newValue = clamp(newValue, min, max);
    if (range) {
      // Bound the new value to the thumb's neighbours.
      if (disableSwap) {
        newValue = clamp(newValue, values[index - 1] || -Infinity, values[index + 1] || Infinity);
      }
      const previousValue = newValue;
      newValue = setValueIndex({
        values,
        newValue,
        index
      });
      let activeIndex = index;

      // Potentially swap the index if needed.
      if (!disableSwap) {
        activeIndex = newValue.indexOf(previousValue);
      }
      focusThumb({
        sliderRef,
        activeIndex
      });
    }
    setValueState(newValue);
    setFocusedThumbIndex(index);
    if (handleChange && !areValuesEqual(newValue, valueDerived)) {
      handleChange(event, newValue, index);
    }
    if (onChangeCommitted) {
      onChangeCommitted(event, newValue);
    }
  };
  const previousIndex = React.useRef();
  let axis = orientation;
  if (isRtl && orientation === 'horizontal') {
    axis += '-reverse';
  }
  const getFingerNewValue = ({
    finger,
    move = false
  }) => {
    const {
      current: slider
    } = sliderRef;
    const {
      width,
      height,
      bottom,
      left
    } = slider.getBoundingClientRect();
    let percent;
    if (axis.indexOf('vertical') === 0) {
      percent = (bottom - finger.y) / height;
    } else {
      percent = (finger.x - left) / width;
    }
    if (axis.indexOf('-reverse') !== -1) {
      percent = 1 - percent;
    }
    let newValue;
    newValue = percentToValue(percent, min, max);
    if (step) {
      newValue = roundValueToStep(newValue, step, min);
    } else {
      const closestIndex = findClosest(marksValues, newValue);
      newValue = marksValues[closestIndex];
    }
    newValue = clamp(newValue, min, max);
    let activeIndex = 0;
    if (range) {
      if (!move) {
        activeIndex = findClosest(values, newValue);
      } else {
        activeIndex = previousIndex.current;
      }

      // Bound the new value to the thumb's neighbours.
      if (disableSwap) {
        newValue = clamp(newValue, values[activeIndex - 1] || -Infinity, values[activeIndex + 1] || Infinity);
      }
      const previousValue = newValue;
      newValue = setValueIndex({
        values,
        newValue,
        index: activeIndex
      });

      // Potentially swap the index if needed.
      if (!(disableSwap && move)) {
        activeIndex = newValue.indexOf(previousValue);
        previousIndex.current = activeIndex;
      }
    }
    return {
      newValue,
      activeIndex
    };
  };
  const handleTouchMove = (0, _utils.unstable_useEventCallback)(nativeEvent => {
    const finger = trackFinger(nativeEvent, touchId);
    if (!finger) {
      return;
    }
    moveCount.current += 1;

    // Cancel move in case some other element consumed a mouseup event and it was not fired.
    // @ts-ignore buttons doesn't not exists on touch event
    if (nativeEvent.type === 'mousemove' && nativeEvent.buttons === 0) {
      // eslint-disable-next-line @typescript-eslint/no-use-before-define
      handleTouchEnd(nativeEvent);
      return;
    }
    const {
      newValue,
      activeIndex
    } = getFingerNewValue({
      finger,
      move: true
    });
    focusThumb({
      sliderRef,
      activeIndex,
      setActive
    });
    setValueState(newValue);
    if (!dragging && moveCount.current > INTENTIONAL_DRAG_COUNT_THRESHOLD) {
      setDragging(true);
    }
    if (handleChange && !areValuesEqual(newValue, valueDerived)) {
      handleChange(nativeEvent, newValue, activeIndex);
    }
  });
  const handleTouchEnd = (0, _utils.unstable_useEventCallback)(nativeEvent => {
    const finger = trackFinger(nativeEvent, touchId);
    setDragging(false);
    if (!finger) {
      return;
    }
    const {
      newValue
    } = getFingerNewValue({
      finger,
      move: true
    });
    setActive(-1);
    if (nativeEvent.type === 'touchend') {
      setOpen(-1);
    }
    if (onChangeCommitted) {
      onChangeCommitted(nativeEvent, newValue);
    }
    touchId.current = undefined;

    // eslint-disable-next-line @typescript-eslint/no-use-before-define
    stopListening();
  });
  const handleTouchStart = (0, _utils.unstable_useEventCallback)(nativeEvent => {
    if (disabled) {
      return;
    }
    // If touch-action: none; is not supported we need to prevent the scroll manually.
    if (!doesSupportTouchActionNone()) {
      nativeEvent.preventDefault();
    }
    const touch = nativeEvent.changedTouches[0];
    if (touch != null) {
      // A number that uniquely identifies the current finger in the touch session.
      touchId.current = touch.identifier;
    }
    const finger = trackFinger(nativeEvent, touchId);
    if (finger !== false) {
      const {
        newValue,
        activeIndex
      } = getFingerNewValue({
        finger
      });
      focusThumb({
        sliderRef,
        activeIndex,
        setActive
      });
      setValueState(newValue);
      if (handleChange && !areValuesEqual(newValue, valueDerived)) {
        handleChange(nativeEvent, newValue, activeIndex);
      }
    }
    moveCount.current = 0;
    const doc = (0, _utils.unstable_ownerDocument)(sliderRef.current);
    doc.addEventListener('touchmove', handleTouchMove);
    doc.addEventListener('touchend', handleTouchEnd);
  });
  const stopListening = React.useCallback(() => {
    const doc = (0, _utils.unstable_ownerDocument)(sliderRef.current);
    doc.removeEventListener('mousemove', handleTouchMove);
    doc.removeEventListener('mouseup', handleTouchEnd);
    doc.removeEventListener('touchmove', handleTouchMove);
    doc.removeEventListener('touchend', handleTouchEnd);
  }, [handleTouchEnd, handleTouchMove]);
  React.useEffect(() => {
    const {
      current: slider
    } = sliderRef;
    slider.addEventListener('touchstart', handleTouchStart, {
      passive: doesSupportTouchActionNone()
    });
    return () => {
      // @ts-ignore
      slider.removeEventListener('touchstart', handleTouchStart, {
        passive: doesSupportTouchActionNone()
      });
      stopListening();
    };
  }, [stopListening, handleTouchStart]);
  React.useEffect(() => {
    if (disabled) {
      stopListening();
    }
  }, [disabled, stopListening]);
  const createHandleMouseDown = otherHandlers => event => {
    var _otherHandlers$onMous;
    (_otherHandlers$onMous = otherHandlers.onMouseDown) == null ? void 0 : _otherHandlers$onMous.call(otherHandlers, event);
    if (disabled) {
      return;
    }
    if (event.defaultPrevented) {
      return;
    }

    // Only handle left clicks
    if (event.button !== 0) {
      return;
    }

    // Avoid text selection
    event.preventDefault();
    const finger = trackFinger(event, touchId);
    if (finger !== false) {
      const {
        newValue,
        activeIndex
      } = getFingerNewValue({
        finger
      });
      focusThumb({
        sliderRef,
        activeIndex,
        setActive
      });
      setValueState(newValue);
      if (handleChange && !areValuesEqual(newValue, valueDerived)) {
        handleChange(event, newValue, activeIndex);
      }
    }
    moveCount.current = 0;
    const doc = (0, _utils.unstable_ownerDocument)(sliderRef.current);
    doc.addEventListener('mousemove', handleTouchMove);
    doc.addEventListener('mouseup', handleTouchEnd);
  };
  const trackOffset = valueToPercent(range ? values[0] : min, min, max);
  const trackLeap = valueToPercent(values[values.length - 1], min, max) - trackOffset;
  const getRootProps = (otherHandlers = {}) => {
    const ownEventHandlers = {
      onMouseDown: createHandleMouseDown(otherHandlers || {})
    };
    const mergedEventHandlers = (0, _extends2.default)({}, otherHandlers, ownEventHandlers);
    return (0, _extends2.default)({
      ref: handleRef
    }, mergedEventHandlers);
  };
  const createHandleMouseOver = otherHandlers => event => {
    var _otherHandlers$onMous2;
    (_otherHandlers$onMous2 = otherHandlers.onMouseOver) == null ? void 0 : _otherHandlers$onMous2.call(otherHandlers, event);
    const index = Number(event.currentTarget.getAttribute('data-index'));
    setOpen(index);
  };
  const createHandleMouseLeave = otherHandlers => event => {
    var _otherHandlers$onMous3;
    (_otherHandlers$onMous3 = otherHandlers.onMouseLeave) == null ? void 0 : _otherHandlers$onMous3.call(otherHandlers, event);
    setOpen(-1);
  };
  const getThumbProps = (otherHandlers = {}) => {
    const ownEventHandlers = {
      onMouseOver: createHandleMouseOver(otherHandlers || {}),
      onMouseLeave: createHandleMouseLeave(otherHandlers || {})
    };
    return (0, _extends2.default)({}, otherHandlers, ownEventHandlers);
  };
  const getThumbStyle = index => {
    return {
      // So the non active thumb doesn't show its label on hover.
      pointerEvents: active !== -1 && active !== index ? 'none' : undefined
    };
  };
  const getHiddenInputProps = (otherHandlers = {}) => {
    var _parameters$step;
    const ownEventHandlers = {
      onChange: createHandleHiddenInputChange(otherHandlers || {}),
      onFocus: createHandleHiddenInputFocus(otherHandlers || {}),
      onBlur: createHandleHiddenInputBlur(otherHandlers || {})
    };
    const mergedEventHandlers = (0, _extends2.default)({}, otherHandlers, ownEventHandlers);
    return (0, _extends2.default)({
      tabIndex,
      'aria-labelledby': ariaLabelledby,
      'aria-orientation': orientation,
      'aria-valuemax': scale(max),
      'aria-valuemin': scale(min),
      name,
      type: 'range',
      min: parameters.min,
      max: parameters.max,
      step: parameters.step === null && parameters.marks ? 'any' : (_parameters$step = parameters.step) != null ? _parameters$step : undefined,
      disabled
    }, mergedEventHandlers, {
      style: (0, _extends2.default)({}, _utils.visuallyHidden, {
        direction: isRtl ? 'rtl' : 'ltr',
        // So that VoiceOver's focus indicator matches the thumb's dimensions
        width: '100%',
        height: '100%'
      })
    });
  };
  return {
    active,
    axis: axis,
    axisProps,
    dragging,
    focusedThumbIndex,
    getHiddenInputProps,
    getRootProps,
    getThumbProps,
    marks: marks,
    open,
    range,
    rootRef: handleRef,
    trackLeap,
    trackOffset,
    values,
    getThumbStyle
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiSWRlbnRpdHkiLCJ1c2VTbGlkZXIiLCJ2YWx1ZVRvUGVyY2VudCIsIl9leHRlbmRzMiIsIlJlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfdXRpbHMiLCJfdXRpbHMyIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJJTlRFTlRJT05BTF9EUkFHX0NPVU5UX1RIUkVTSE9MRCIsImFzYyIsImEiLCJiIiwiY2xhbXAiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmluZENsb3Nlc3QiLCJ2YWx1ZXMiLCJjdXJyZW50VmFsdWUiLCJfdmFsdWVzJHJlZHVjZSIsImluZGV4IiwiY2xvc2VzdEluZGV4IiwicmVkdWNlIiwiYWNjIiwiZGlzdGFuY2UiLCJhYnMiLCJ0cmFja0ZpbmdlciIsImV2ZW50IiwidG91Y2hJZCIsImN1cnJlbnQiLCJ1bmRlZmluZWQiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoRXZlbnQiLCJpIiwibGVuZ3RoIiwidG91Y2giLCJpZGVudGlmaWVyIiwieCIsImNsaWVudFgiLCJ5IiwiY2xpZW50WSIsInBlcmNlbnRUb1ZhbHVlIiwicGVyY2VudCIsImdldERlY2ltYWxQcmVjaXNpb24iLCJudW0iLCJwYXJ0cyIsInRvRXhwb25lbnRpYWwiLCJzcGxpdCIsIm1hdGlzc2FEZWNpbWFsUGFydCIsInBhcnNlSW50IiwiZGVjaW1hbFBhcnQiLCJ0b1N0cmluZyIsInJvdW5kVmFsdWVUb1N0ZXAiLCJzdGVwIiwibmVhcmVzdCIsInJvdW5kIiwiTnVtYmVyIiwidG9GaXhlZCIsInNldFZhbHVlSW5kZXgiLCJuZXdWYWx1ZSIsIm91dHB1dCIsInNsaWNlIiwic29ydCIsImZvY3VzVGh1bWIiLCJzbGlkZXJSZWYiLCJhY3RpdmVJbmRleCIsInNldEFjdGl2ZSIsIl9zbGlkZXJSZWYkY3VycmVudCIsIl9kb2MkYWN0aXZlRWxlbWVudCIsImRvYyIsInVuc3RhYmxlX293bmVyRG9jdW1lbnQiLCJjb250YWlucyIsImFjdGl2ZUVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJfc2xpZGVyUmVmJGN1cnJlbnQyIiwicXVlcnlTZWxlY3RvciIsImZvY3VzIiwiYXJlVmFsdWVzRXF1YWwiLCJvbGRWYWx1ZSIsImFyZUFycmF5c0VxdWFsIiwiYXhpc1Byb3BzIiwiaG9yaXpvbnRhbCIsIm9mZnNldCIsImxlZnQiLCJsZWFwIiwid2lkdGgiLCJyaWdodCIsInZlcnRpY2FsIiwiYm90dG9tIiwiaGVpZ2h0IiwiY2FjaGVkU3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUiLCJkb2VzU3VwcG9ydFRvdWNoQWN0aW9uTm9uZSIsIkNTUyIsInN1cHBvcnRzIiwicGFyYW1ldGVycyIsImFyaWFMYWJlbGxlZGJ5IiwiZGVmYXVsdFZhbHVlIiwiZGlzYWJsZWQiLCJkaXNhYmxlU3dhcCIsImlzUnRsIiwibWFya3MiLCJtYXJrc1Byb3AiLCJuYW1lIiwib25DaGFuZ2UiLCJvbkNoYW5nZUNvbW1pdHRlZCIsIm9yaWVudGF0aW9uIiwicm9vdFJlZiIsInJlZiIsInNjYWxlIiwidGFiSW5kZXgiLCJ2YWx1ZVByb3AiLCJ1c2VSZWYiLCJhY3RpdmUiLCJ1c2VTdGF0ZSIsIm9wZW4iLCJzZXRPcGVuIiwiZHJhZ2dpbmciLCJzZXREcmFnZ2luZyIsIm1vdmVDb3VudCIsInZhbHVlRGVyaXZlZCIsInNldFZhbHVlU3RhdGUiLCJ1bnN0YWJsZV91c2VDb250cm9sbGVkIiwiY29udHJvbGxlZCIsImhhbmRsZUNoYW5nZSIsInRodW1iSW5kZXgiLCJuYXRpdmVFdmVudCIsImNsb25lZEV2ZW50IiwiY29uc3RydWN0b3IiLCJ0eXBlIiwid3JpdGFibGUiLCJyYW5nZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsImZsb29yIiwiXyIsIm1hcmtzVmFsdWVzIiwibWFyayIsImlzRm9jdXNWaXNpYmxlUmVmIiwib25CbHVyIiwiaGFuZGxlQmx1clZpc2libGUiLCJvbkZvY3VzIiwiaGFuZGxlRm9jdXNWaXNpYmxlIiwiZm9jdXNWaXNpYmxlUmVmIiwidW5zdGFibGVfdXNlSXNGb2N1c1Zpc2libGUiLCJmb2N1c2VkVGh1bWJJbmRleCIsInNldEZvY3VzZWRUaHVtYkluZGV4IiwiaGFuZGxlRm9jdXNSZWYiLCJ1bnN0YWJsZV91c2VGb3JrUmVmIiwiaGFuZGxlUmVmIiwiY3JlYXRlSGFuZGxlSGlkZGVuSW5wdXRGb2N1cyIsIm90aGVySGFuZGxlcnMiLCJfb3RoZXJIYW5kbGVycyRvbkZvY3UiLCJjdXJyZW50VGFyZ2V0IiwiY3JlYXRlSGFuZGxlSGlkZGVuSW5wdXRCbHVyIiwiX290aGVySGFuZGxlcnMkb25CbHVyIiwidW5zdGFibGVfdXNlRW5oYW5jZWRFZmZlY3QiLCJkb2N1bWVudCIsIl9kb2N1bWVudCRhY3RpdmVFbGVtZSIsImJsdXIiLCJjcmVhdGVIYW5kbGVIaWRkZW5JbnB1dENoYW5nZSIsIl9vdGhlckhhbmRsZXJzJG9uQ2hhbiIsIm1hcmtzSW5kZXgiLCJpbmRleE9mIiwidGFyZ2V0IiwidmFsdWVBc051bWJlciIsIm1heE1hcmtzVmFsdWUiLCJJbmZpbml0eSIsInByZXZpb3VzVmFsdWUiLCJwcmV2aW91c0luZGV4IiwiYXhpcyIsImdldEZpbmdlck5ld1ZhbHVlIiwiZmluZ2VyIiwibW92ZSIsInNsaWRlciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhhbmRsZVRvdWNoTW92ZSIsInVuc3RhYmxlX3VzZUV2ZW50Q2FsbGJhY2siLCJidXR0b25zIiwiaGFuZGxlVG91Y2hFbmQiLCJzdG9wTGlzdGVuaW5nIiwiaGFuZGxlVG91Y2hTdGFydCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInVzZUNhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVzZUVmZmVjdCIsInBhc3NpdmUiLCJjcmVhdGVIYW5kbGVNb3VzZURvd24iLCJfb3RoZXJIYW5kbGVycyRvbk1vdXMiLCJvbk1vdXNlRG93biIsImRlZmF1bHRQcmV2ZW50ZWQiLCJidXR0b24iLCJ0cmFja09mZnNldCIsInRyYWNrTGVhcCIsImdldFJvb3RQcm9wcyIsIm93bkV2ZW50SGFuZGxlcnMiLCJtZXJnZWRFdmVudEhhbmRsZXJzIiwiY3JlYXRlSGFuZGxlTW91c2VPdmVyIiwiX290aGVySGFuZGxlcnMkb25Nb3VzMiIsIm9uTW91c2VPdmVyIiwiY3JlYXRlSGFuZGxlTW91c2VMZWF2ZSIsIl9vdGhlckhhbmRsZXJzJG9uTW91czMiLCJvbk1vdXNlTGVhdmUiLCJnZXRUaHVtYlByb3BzIiwiZ2V0VGh1bWJTdHlsZSIsInBvaW50ZXJFdmVudHMiLCJnZXRIaWRkZW5JbnB1dFByb3BzIiwiX3BhcmFtZXRlcnMkc3RlcCIsInN0eWxlIiwidmlzdWFsbHlIaWRkZW4iLCJkaXJlY3Rpb24iXSwic291cmNlcyI6WyJ1c2VTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIGNsaWVudCc7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSWRlbnRpdHkgPSB2b2lkIDA7XG5leHBvcnRzLnVzZVNsaWRlciA9IHVzZVNsaWRlcjtcbmV4cG9ydHMudmFsdWVUb1BlcmNlbnQgPSB2YWx1ZVRvUGVyY2VudDtcbnZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiQG11aS91dGlsc1wiKTtcbnZhciBfdXRpbHMyID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlQmFiZWxJbnRlcm9wID0gbmV3IFdlYWtNYXAoKTsgdmFyIGNhY2hlTm9kZUludGVyb3AgPSBuZXcgV2Vha01hcCgpOyByZXR1cm4gKF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIChub2RlSW50ZXJvcCkgeyByZXR1cm4gbm9kZUludGVyb3AgPyBjYWNoZU5vZGVJbnRlcm9wIDogY2FjaGVCYWJlbEludGVyb3A7IH0pKG5vZGVJbnRlcm9wKTsgfVxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqLCBub2RlSW50ZXJvcCkgeyBpZiAoIW5vZGVJbnRlcm9wICYmIG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgZGVmYXVsdDogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKTsgaWYgKGNhY2hlICYmIGNhY2hlLmhhcyhvYmopKSB7IHJldHVybiBjYWNoZS5nZXQob2JqKTsgfSB2YXIgbmV3T2JqID0ge307IHZhciBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoa2V5ICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyBpZiAoY2FjaGUpIHsgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTsgfSByZXR1cm4gbmV3T2JqOyB9XG5jb25zdCBJTlRFTlRJT05BTF9EUkFHX0NPVU5UX1RIUkVTSE9MRCA9IDI7XG5mdW5jdGlvbiBhc2MoYSwgYikge1xuICByZXR1cm4gYSAtIGI7XG59XG5mdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gbWluO1xuICB9XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChtaW4sIHZhbHVlKSwgbWF4KTtcbn1cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0KHZhbHVlcywgY3VycmVudFZhbHVlKSB7XG4gIHZhciBfdmFsdWVzJHJlZHVjZTtcbiAgY29uc3Qge1xuICAgIGluZGV4OiBjbG9zZXN0SW5kZXhcbiAgfSA9IChfdmFsdWVzJHJlZHVjZSA9IHZhbHVlcy5yZWR1Y2UoKGFjYywgdmFsdWUsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyhjdXJyZW50VmFsdWUgLSB2YWx1ZSk7XG4gICAgaWYgKGFjYyA9PT0gbnVsbCB8fCBkaXN0YW5jZSA8IGFjYy5kaXN0YW5jZSB8fCBkaXN0YW5jZSA9PT0gYWNjLmRpc3RhbmNlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgaW5kZXhcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIG51bGwpKSAhPSBudWxsID8gX3ZhbHVlcyRyZWR1Y2UgOiB7fTtcbiAgcmV0dXJuIGNsb3Nlc3RJbmRleDtcbn1cbmZ1bmN0aW9uIHRyYWNrRmluZ2VyKGV2ZW50LCB0b3VjaElkKSB7XG4gIC8vIFRoZSBldmVudCBpcyBUb3VjaEV2ZW50XG4gIGlmICh0b3VjaElkLmN1cnJlbnQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5jaGFuZ2VkVG91Y2hlcykge1xuICAgIGNvbnN0IHRvdWNoRXZlbnQgPSBldmVudDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdWNoRXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHRvdWNoID0gdG91Y2hFdmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09PSB0b3VjaElkLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiB0b3VjaC5jbGllbnRYLFxuICAgICAgICAgIHk6IHRvdWNoLmNsaWVudFlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGhlIGV2ZW50IGlzIE1vdXNlRXZlbnRcbiAgcmV0dXJuIHtcbiAgICB4OiBldmVudC5jbGllbnRYLFxuICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgfTtcbn1cbmZ1bmN0aW9uIHZhbHVlVG9QZXJjZW50KHZhbHVlLCBtaW4sIG1heCkge1xuICByZXR1cm4gKHZhbHVlIC0gbWluKSAqIDEwMCAvIChtYXggLSBtaW4pO1xufVxuZnVuY3Rpb24gcGVyY2VudFRvVmFsdWUocGVyY2VudCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIChtYXggLSBtaW4pICogcGVyY2VudCArIG1pbjtcbn1cbmZ1bmN0aW9uIGdldERlY2ltYWxQcmVjaXNpb24obnVtKSB7XG4gIC8vIFRoaXMgaGFuZGxlcyB0aGUgY2FzZSB3aGVuIG51bSBpcyB2ZXJ5IHNtYWxsICgwLjAwMDAwMDAxKSwganMgd2lsbCB0dXJuIHRoaXMgaW50byAxZS04LlxuICAvLyBXaGVuIG51bSBpcyBiaWdnZXIgdGhhbiAxIG9yIGxlc3MgdGhhbiAtMSBpdCB3b24ndCBnZXQgY29udmVydGVkIHRvIHRoaXMgbm90YXRpb24gc28gaXQncyBmaW5lLlxuICBpZiAoTWF0aC5hYnMobnVtKSA8IDEpIHtcbiAgICBjb25zdCBwYXJ0cyA9IG51bS50b0V4cG9uZW50aWFsKCkuc3BsaXQoJ2UtJyk7XG4gICAgY29uc3QgbWF0aXNzYURlY2ltYWxQYXJ0ID0gcGFydHNbMF0uc3BsaXQoJy4nKVsxXTtcbiAgICByZXR1cm4gKG1hdGlzc2FEZWNpbWFsUGFydCA/IG1hdGlzc2FEZWNpbWFsUGFydC5sZW5ndGggOiAwKSArIHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7XG4gIH1cbiAgY29uc3QgZGVjaW1hbFBhcnQgPSBudW0udG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdO1xuICByZXR1cm4gZGVjaW1hbFBhcnQgPyBkZWNpbWFsUGFydC5sZW5ndGggOiAwO1xufVxuZnVuY3Rpb24gcm91bmRWYWx1ZVRvU3RlcCh2YWx1ZSwgc3RlcCwgbWluKSB7XG4gIGNvbnN0IG5lYXJlc3QgPSBNYXRoLnJvdW5kKCh2YWx1ZSAtIG1pbikgLyBzdGVwKSAqIHN0ZXAgKyBtaW47XG4gIHJldHVybiBOdW1iZXIobmVhcmVzdC50b0ZpeGVkKGdldERlY2ltYWxQcmVjaXNpb24oc3RlcCkpKTtcbn1cbmZ1bmN0aW9uIHNldFZhbHVlSW5kZXgoe1xuICB2YWx1ZXMsXG4gIG5ld1ZhbHVlLFxuICBpbmRleFxufSkge1xuICBjb25zdCBvdXRwdXQgPSB2YWx1ZXMuc2xpY2UoKTtcbiAgb3V0cHV0W2luZGV4XSA9IG5ld1ZhbHVlO1xuICByZXR1cm4gb3V0cHV0LnNvcnQoYXNjKTtcbn1cbmZ1bmN0aW9uIGZvY3VzVGh1bWIoe1xuICBzbGlkZXJSZWYsXG4gIGFjdGl2ZUluZGV4LFxuICBzZXRBY3RpdmVcbn0pIHtcbiAgdmFyIF9zbGlkZXJSZWYkY3VycmVudCwgX2RvYyRhY3RpdmVFbGVtZW50O1xuICBjb25zdCBkb2MgPSAoMCwgX3V0aWxzLnVuc3RhYmxlX293bmVyRG9jdW1lbnQpKHNsaWRlclJlZi5jdXJyZW50KTtcbiAgaWYgKCEoKF9zbGlkZXJSZWYkY3VycmVudCA9IHNsaWRlclJlZi5jdXJyZW50KSAhPSBudWxsICYmIF9zbGlkZXJSZWYkY3VycmVudC5jb250YWlucyhkb2MuYWN0aXZlRWxlbWVudCkpIHx8IE51bWJlcihkb2MgPT0gbnVsbCB8fCAoX2RvYyRhY3RpdmVFbGVtZW50ID0gZG9jLmFjdGl2ZUVsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZG9jJGFjdGl2ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpICE9PSBhY3RpdmVJbmRleCkge1xuICAgIHZhciBfc2xpZGVyUmVmJGN1cnJlbnQyO1xuICAgIChfc2xpZGVyUmVmJGN1cnJlbnQyID0gc2xpZGVyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfc2xpZGVyUmVmJGN1cnJlbnQyLnF1ZXJ5U2VsZWN0b3IoYFt0eXBlPVwicmFuZ2VcIl1bZGF0YS1pbmRleD1cIiR7YWN0aXZlSW5kZXh9XCJdYCkuZm9jdXMoKTtcbiAgfVxuICBpZiAoc2V0QWN0aXZlKSB7XG4gICAgc2V0QWN0aXZlKGFjdGl2ZUluZGV4KTtcbiAgfVxufVxuZnVuY3Rpb24gYXJlVmFsdWVzRXF1YWwobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gKDAsIF91dGlsczIuYXJlQXJyYXlzRXF1YWwpKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuY29uc3QgYXhpc1Byb3BzID0ge1xuICBob3Jpem9udGFsOiB7XG4gICAgb2Zmc2V0OiBwZXJjZW50ID0+ICh7XG4gICAgICBsZWZ0OiBgJHtwZXJjZW50fSVgXG4gICAgfSksXG4gICAgbGVhcDogcGVyY2VudCA9PiAoe1xuICAgICAgd2lkdGg6IGAke3BlcmNlbnR9JWBcbiAgICB9KVxuICB9LFxuICAnaG9yaXpvbnRhbC1yZXZlcnNlJzoge1xuICAgIG9mZnNldDogcGVyY2VudCA9PiAoe1xuICAgICAgcmlnaHQ6IGAke3BlcmNlbnR9JWBcbiAgICB9KSxcbiAgICBsZWFwOiBwZXJjZW50ID0+ICh7XG4gICAgICB3aWR0aDogYCR7cGVyY2VudH0lYFxuICAgIH0pXG4gIH0sXG4gIHZlcnRpY2FsOiB7XG4gICAgb2Zmc2V0OiBwZXJjZW50ID0+ICh7XG4gICAgICBib3R0b206IGAke3BlcmNlbnR9JWBcbiAgICB9KSxcbiAgICBsZWFwOiBwZXJjZW50ID0+ICh7XG4gICAgICBoZWlnaHQ6IGAke3BlcmNlbnR9JWBcbiAgICB9KVxuICB9XG59O1xuY29uc3QgSWRlbnRpdHkgPSB4ID0+IHg7XG5cbi8vIFRPRE86IHJlbW92ZSBzdXBwb3J0IGZvciBTYWZhcmkgPCAxMy5cbi8vIGh0dHBzOi8vY2FuaXVzZS5jb20vI3NlYXJjaD10b3VjaC1hY3Rpb25cbi8vXG4vLyBTYWZhcmksIG9uIGlPUywgc3VwcG9ydHMgdG91Y2ggYWN0aW9uIHNpbmNlIHYxMy5cbi8vIE92ZXIgODAlIG9mIHRoZSBpT1MgcGhvbmVzIGFyZSBjb21wYXRpYmxlXG4vLyBpbiBBdWd1c3QgMjAyMC5cbi8vIFV0aWxpemluZyB0aGUgQ1NTLnN1cHBvcnRzIG1ldGhvZCB0byBjaGVjayBpZiB0b3VjaC1hY3Rpb24gaXMgc3VwcG9ydGVkLlxuLy8gU2luY2UgQ1NTLnN1cHBvcnRzIGlzIHN1cHBvcnRlZCBvbiBhbGwgYnV0IEVkZ2VAMTIgYW5kIElFIGFuZCB0b3VjaC1hY3Rpb25cbi8vIGlzIHN1cHBvcnRlZCBvbiBib3RoIEVkZ2VAMTIgYW5kIElFIGlmIENTUy5zdXBwb3J0cyBpcyBub3QgYXZhaWxhYmxlIHRoYXQgbWVhbnMgdGhhdFxuLy8gdG91Y2gtYWN0aW9uIHdpbGwgYmUgc3VwcG9ydGVkXG5leHBvcnRzLklkZW50aXR5ID0gSWRlbnRpdHk7XG5sZXQgY2FjaGVkU3VwcG9ydHNUb3VjaEFjdGlvbk5vbmU7XG5mdW5jdGlvbiBkb2VzU3VwcG9ydFRvdWNoQWN0aW9uTm9uZSgpIHtcbiAgaWYgKGNhY2hlZFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIENTUyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIENTUy5zdXBwb3J0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FjaGVkU3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgPSBDU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsICdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlZFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNhY2hlZFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lO1xufVxuLyoqXG4gKlxuICogRGVtb3M6XG4gKlxuICogLSBbU2xpZGVyXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1zbGlkZXIvI2hvb2spXG4gKlxuICogQVBJOlxuICpcbiAqIC0gW3VzZVNsaWRlciBBUEldKGh0dHBzOi8vbXVpLmNvbS9iYXNlLXVpL3JlYWN0LXNsaWRlci9ob29rcy1hcGkvI3VzZS1zbGlkZXIpXG4gKi9cbmZ1bmN0aW9uIHVzZVNsaWRlcihwYXJhbWV0ZXJzKSB7XG4gIGNvbnN0IHtcbiAgICAnYXJpYS1sYWJlbGxlZGJ5JzogYXJpYUxhYmVsbGVkYnksXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIGRpc2FibGVkID0gZmFsc2UsXG4gICAgZGlzYWJsZVN3YXAgPSBmYWxzZSxcbiAgICBpc1J0bCA9IGZhbHNlLFxuICAgIG1hcmtzOiBtYXJrc1Byb3AgPSBmYWxzZSxcbiAgICBtYXggPSAxMDAsXG4gICAgbWluID0gMCxcbiAgICBuYW1lLFxuICAgIG9uQ2hhbmdlLFxuICAgIG9uQ2hhbmdlQ29tbWl0dGVkLFxuICAgIG9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnLFxuICAgIHJvb3RSZWY6IHJlZixcbiAgICBzY2FsZSA9IElkZW50aXR5LFxuICAgIHN0ZXAgPSAxLFxuICAgIHRhYkluZGV4LFxuICAgIHZhbHVlOiB2YWx1ZVByb3BcbiAgfSA9IHBhcmFtZXRlcnM7XG4gIGNvbnN0IHRvdWNoSWQgPSBSZWFjdC51c2VSZWYoKTtcbiAgLy8gV2UgY2FuJ3QgdXNlIHRoZSA6YWN0aXZlIGJyb3dzZXIgcHNldWRvLWNsYXNzZXMuXG4gIC8vIC0gVGhlIGFjdGl2ZSBzdGF0ZSBpc24ndCB0cmlnZ2VyZWQgd2hlbiBjbGlja2luZyBvbiB0aGUgcmFpbC5cbiAgLy8gLSBUaGUgYWN0aXZlIHN0YXRlIGlzbid0IHRyYW5zZmVycmVkIHdoZW4gaW52ZXJzaW5nIGEgcmFuZ2Ugc2xpZGVyLlxuICBjb25zdCBbYWN0aXZlLCBzZXRBY3RpdmVdID0gUmVhY3QudXNlU3RhdGUoLTEpO1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSBSZWFjdC51c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtkcmFnZ2luZywgc2V0RHJhZ2dpbmddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBtb3ZlQ291bnQgPSBSZWFjdC51c2VSZWYoMCk7XG4gIGNvbnN0IFt2YWx1ZURlcml2ZWQsIHNldFZhbHVlU3RhdGVdID0gKDAsIF91dGlscy51bnN0YWJsZV91c2VDb250cm9sbGVkKSh7XG4gICAgY29udHJvbGxlZDogdmFsdWVQcm9wLFxuICAgIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSAhPSBudWxsID8gZGVmYXVsdFZhbHVlIDogbWluLFxuICAgIG5hbWU6ICdTbGlkZXInXG4gIH0pO1xuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBvbkNoYW5nZSAmJiAoKGV2ZW50LCB2YWx1ZSwgdGh1bWJJbmRleCkgPT4ge1xuICAgIC8vIFJlZGVmaW5lIHRhcmdldCB0byBhbGxvdyBuYW1lIGFuZCB2YWx1ZSB0byBiZSByZWFkLlxuICAgIC8vIFRoaXMgYWxsb3dzIHNlYW1sZXNzIGludGVncmF0aW9uIHdpdGggdGhlIG1vc3QgcG9wdWxhciBmb3JtIGxpYnJhcmllcy5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXVpL21hdGVyaWFsLXVpL2lzc3Vlcy8xMzQ4NSNpc3N1ZWNvbW1lbnQtNjc2MDQ4NDkyXG4gICAgLy8gQ2xvbmUgdGhlIGV2ZW50IHRvIG5vdCBvdmVycmlkZSBgdGFyZ2V0YCBvZiB0aGUgb3JpZ2luYWwgZXZlbnQuXG4gICAgY29uc3QgbmF0aXZlRXZlbnQgPSBldmVudC5uYXRpdmVFdmVudCB8fCBldmVudDtcbiAgICAvLyBAdHMtaWdub3JlIFRoZSBuYXRpdmVFdmVudCBpcyBmdW5jdGlvbiwgbm90IG9iamVjdFxuICAgIGNvbnN0IGNsb25lZEV2ZW50ID0gbmV3IG5hdGl2ZUV2ZW50LmNvbnN0cnVjdG9yKG5hdGl2ZUV2ZW50LnR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xvbmVkRXZlbnQsICd0YXJnZXQnLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICBuYW1lXG4gICAgICB9XG4gICAgfSk7XG4gICAgb25DaGFuZ2UoY2xvbmVkRXZlbnQsIHZhbHVlLCB0aHVtYkluZGV4KTtcbiAgfSk7XG4gIGNvbnN0IHJhbmdlID0gQXJyYXkuaXNBcnJheSh2YWx1ZURlcml2ZWQpO1xuICBsZXQgdmFsdWVzID0gcmFuZ2UgPyB2YWx1ZURlcml2ZWQuc2xpY2UoKS5zb3J0KGFzYykgOiBbdmFsdWVEZXJpdmVkXTtcbiAgdmFsdWVzID0gdmFsdWVzLm1hcCh2YWx1ZSA9PiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpKTtcbiAgY29uc3QgbWFya3MgPSBtYXJrc1Byb3AgPT09IHRydWUgJiYgc3RlcCAhPT0gbnVsbCA/IFsuLi5BcnJheShNYXRoLmZsb29yKChtYXggLSBtaW4pIC8gc3RlcCkgKyAxKV0ubWFwKChfLCBpbmRleCkgPT4gKHtcbiAgICB2YWx1ZTogbWluICsgc3RlcCAqIGluZGV4XG4gIH0pKSA6IG1hcmtzUHJvcCB8fCBbXTtcbiAgY29uc3QgbWFya3NWYWx1ZXMgPSBtYXJrcy5tYXAobWFyayA9PiBtYXJrLnZhbHVlKTtcbiAgY29uc3Qge1xuICAgIGlzRm9jdXNWaXNpYmxlUmVmLFxuICAgIG9uQmx1cjogaGFuZGxlQmx1clZpc2libGUsXG4gICAgb25Gb2N1czogaGFuZGxlRm9jdXNWaXNpYmxlLFxuICAgIHJlZjogZm9jdXNWaXNpYmxlUmVmXG4gIH0gPSAoMCwgX3V0aWxzLnVuc3RhYmxlX3VzZUlzRm9jdXNWaXNpYmxlKSgpO1xuICBjb25zdCBbZm9jdXNlZFRodW1iSW5kZXgsIHNldEZvY3VzZWRUaHVtYkluZGV4XSA9IFJlYWN0LnVzZVN0YXRlKC0xKTtcbiAgY29uc3Qgc2xpZGVyUmVmID0gUmVhY3QudXNlUmVmKCk7XG4gIGNvbnN0IGhhbmRsZUZvY3VzUmVmID0gKDAsIF91dGlscy51bnN0YWJsZV91c2VGb3JrUmVmKShmb2N1c1Zpc2libGVSZWYsIHNsaWRlclJlZik7XG4gIGNvbnN0IGhhbmRsZVJlZiA9ICgwLCBfdXRpbHMudW5zdGFibGVfdXNlRm9ya1JlZikocmVmLCBoYW5kbGVGb2N1c1JlZik7XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUhpZGRlbklucHV0Rm9jdXMgPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25Gb2N1O1xuICAgIGNvbnN0IGluZGV4ID0gTnVtYmVyKGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpO1xuICAgIGhhbmRsZUZvY3VzVmlzaWJsZShldmVudCk7XG4gICAgaWYgKGlzRm9jdXNWaXNpYmxlUmVmLmN1cnJlbnQgPT09IHRydWUpIHtcbiAgICAgIHNldEZvY3VzZWRUaHVtYkluZGV4KGluZGV4KTtcbiAgICB9XG4gICAgc2V0T3BlbihpbmRleCk7XG4gICAgb3RoZXJIYW5kbGVycyA9PSBudWxsIHx8IChfb3RoZXJIYW5kbGVycyRvbkZvY3UgPSBvdGhlckhhbmRsZXJzLm9uRm9jdXMpID09IG51bGwgPyB2b2lkIDAgOiBfb3RoZXJIYW5kbGVycyRvbkZvY3UuY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUhpZGRlbklucHV0Qmx1ciA9IG90aGVySGFuZGxlcnMgPT4gZXZlbnQgPT4ge1xuICAgIHZhciBfb3RoZXJIYW5kbGVycyRvbkJsdXI7XG4gICAgaGFuZGxlQmx1clZpc2libGUoZXZlbnQpO1xuICAgIGlmIChpc0ZvY3VzVmlzaWJsZVJlZi5jdXJyZW50ID09PSBmYWxzZSkge1xuICAgICAgc2V0Rm9jdXNlZFRodW1iSW5kZXgoLTEpO1xuICAgIH1cbiAgICBzZXRPcGVuKC0xKTtcbiAgICBvdGhlckhhbmRsZXJzID09IG51bGwgfHwgKF9vdGhlckhhbmRsZXJzJG9uQmx1ciA9IG90aGVySGFuZGxlcnMub25CbHVyKSA9PSBudWxsID8gdm9pZCAwIDogX290aGVySGFuZGxlcnMkb25CbHVyLmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICB9O1xuICAoMCwgX3V0aWxzLnVuc3RhYmxlX3VzZUVuaGFuY2VkRWZmZWN0KSgoKSA9PiB7XG4gICAgaWYgKGRpc2FibGVkICYmIHNsaWRlclJlZi5jdXJyZW50LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICB2YXIgX2RvY3VtZW50JGFjdGl2ZUVsZW1lO1xuICAgICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBGaXJlZm94IGFuZCBTYWZhcmkgd2lsbCBrZWVwIGZvY3VzXG4gICAgICAvLyBvbiBhIGRpc2FibGVkIGVsZW1lbnQ6XG4gICAgICAvLyBodHRwczovL2NvZGVzYW5kYm94LmlvL3MvbXVpLXByLTIyMjQ3LWZvcmtlZC1oMTUxaD9maWxlPS9zcmMvQXBwLmpzXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAoX2RvY3VtZW50JGFjdGl2ZUVsZW1lID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kb2N1bWVudCRhY3RpdmVFbGVtZS5ibHVyKCk7XG4gICAgfVxuICB9LCBbZGlzYWJsZWRdKTtcbiAgaWYgKGRpc2FibGVkICYmIGFjdGl2ZSAhPT0gLTEpIHtcbiAgICBzZXRBY3RpdmUoLTEpO1xuICB9XG4gIGlmIChkaXNhYmxlZCAmJiBmb2N1c2VkVGh1bWJJbmRleCAhPT0gLTEpIHtcbiAgICBzZXRGb2N1c2VkVGh1bWJJbmRleCgtMSk7XG4gIH1cbiAgY29uc3QgY3JlYXRlSGFuZGxlSGlkZGVuSW5wdXRDaGFuZ2UgPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25DaGFuO1xuICAgIChfb3RoZXJIYW5kbGVycyRvbkNoYW4gPSBvdGhlckhhbmRsZXJzLm9uQ2hhbmdlKSA9PSBudWxsID8gdm9pZCAwIDogX290aGVySGFuZGxlcnMkb25DaGFuLmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICAgIGNvbnN0IGluZGV4ID0gTnVtYmVyKGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpO1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2luZGV4XTtcbiAgICBjb25zdCBtYXJrc0luZGV4ID0gbWFya3NWYWx1ZXMuaW5kZXhPZih2YWx1ZSk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IG5ld1ZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlQXNOdW1iZXI7XG4gICAgaWYgKG1hcmtzICYmIHN0ZXAgPT0gbnVsbCkge1xuICAgICAgY29uc3QgbWF4TWFya3NWYWx1ZSA9IG1hcmtzVmFsdWVzW21hcmtzVmFsdWVzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKG5ld1ZhbHVlID4gbWF4TWFya3NWYWx1ZSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG1heE1hcmtzVmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKG5ld1ZhbHVlIDwgbWFya3NWYWx1ZXNbMF0pIHtcbiAgICAgICAgbmV3VmFsdWUgPSBtYXJrc1ZhbHVlc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gbmV3VmFsdWUgPCB2YWx1ZSA/IG1hcmtzVmFsdWVzW21hcmtzSW5kZXggLSAxXSA6IG1hcmtzVmFsdWVzW21hcmtzSW5kZXggKyAxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgbmV3VmFsdWUgPSBjbGFtcChuZXdWYWx1ZSwgbWluLCBtYXgpO1xuICAgIGlmIChyYW5nZSkge1xuICAgICAgLy8gQm91bmQgdGhlIG5ldyB2YWx1ZSB0byB0aGUgdGh1bWIncyBuZWlnaGJvdXJzLlxuICAgICAgaWYgKGRpc2FibGVTd2FwKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY2xhbXAobmV3VmFsdWUsIHZhbHVlc1tpbmRleCAtIDFdIHx8IC1JbmZpbml0eSwgdmFsdWVzW2luZGV4ICsgMV0gfHwgSW5maW5pdHkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgbmV3VmFsdWUgPSBzZXRWYWx1ZUluZGV4KHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgaW5kZXhcbiAgICAgIH0pO1xuICAgICAgbGV0IGFjdGl2ZUluZGV4ID0gaW5kZXg7XG5cbiAgICAgIC8vIFBvdGVudGlhbGx5IHN3YXAgdGhlIGluZGV4IGlmIG5lZWRlZC5cbiAgICAgIGlmICghZGlzYWJsZVN3YXApIHtcbiAgICAgICAgYWN0aXZlSW5kZXggPSBuZXdWYWx1ZS5pbmRleE9mKHByZXZpb3VzVmFsdWUpO1xuICAgICAgfVxuICAgICAgZm9jdXNUaHVtYih7XG4gICAgICAgIHNsaWRlclJlZixcbiAgICAgICAgYWN0aXZlSW5kZXhcbiAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRWYWx1ZVN0YXRlKG5ld1ZhbHVlKTtcbiAgICBzZXRGb2N1c2VkVGh1bWJJbmRleChpbmRleCk7XG4gICAgaWYgKGhhbmRsZUNoYW5nZSAmJiAhYXJlVmFsdWVzRXF1YWwobmV3VmFsdWUsIHZhbHVlRGVyaXZlZCkpIHtcbiAgICAgIGhhbmRsZUNoYW5nZShldmVudCwgbmV3VmFsdWUsIGluZGV4KTtcbiAgICB9XG4gICAgaWYgKG9uQ2hhbmdlQ29tbWl0dGVkKSB7XG4gICAgICBvbkNoYW5nZUNvbW1pdHRlZChldmVudCwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJldmlvdXNJbmRleCA9IFJlYWN0LnVzZVJlZigpO1xuICBsZXQgYXhpcyA9IG9yaWVudGF0aW9uO1xuICBpZiAoaXNSdGwgJiYgb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgIGF4aXMgKz0gJy1yZXZlcnNlJztcbiAgfVxuICBjb25zdCBnZXRGaW5nZXJOZXdWYWx1ZSA9ICh7XG4gICAgZmluZ2VyLFxuICAgIG1vdmUgPSBmYWxzZVxuICB9KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgY3VycmVudDogc2xpZGVyXG4gICAgfSA9IHNsaWRlclJlZjtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGJvdHRvbSxcbiAgICAgIGxlZnRcbiAgICB9ID0gc2xpZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBwZXJjZW50O1xuICAgIGlmIChheGlzLmluZGV4T2YoJ3ZlcnRpY2FsJykgPT09IDApIHtcbiAgICAgIHBlcmNlbnQgPSAoYm90dG9tIC0gZmluZ2VyLnkpIC8gaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBwZXJjZW50ID0gKGZpbmdlci54IC0gbGVmdCkgLyB3aWR0aDtcbiAgICB9XG4gICAgaWYgKGF4aXMuaW5kZXhPZignLXJldmVyc2UnKSAhPT0gLTEpIHtcbiAgICAgIHBlcmNlbnQgPSAxIC0gcGVyY2VudDtcbiAgICB9XG4gICAgbGV0IG5ld1ZhbHVlO1xuICAgIG5ld1ZhbHVlID0gcGVyY2VudFRvVmFsdWUocGVyY2VudCwgbWluLCBtYXgpO1xuICAgIGlmIChzdGVwKSB7XG4gICAgICBuZXdWYWx1ZSA9IHJvdW5kVmFsdWVUb1N0ZXAobmV3VmFsdWUsIHN0ZXAsIG1pbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNsb3Nlc3RJbmRleCA9IGZpbmRDbG9zZXN0KG1hcmtzVmFsdWVzLCBuZXdWYWx1ZSk7XG4gICAgICBuZXdWYWx1ZSA9IG1hcmtzVmFsdWVzW2Nsb3Nlc3RJbmRleF07XG4gICAgfVxuICAgIG5ld1ZhbHVlID0gY2xhbXAobmV3VmFsdWUsIG1pbiwgbWF4KTtcbiAgICBsZXQgYWN0aXZlSW5kZXggPSAwO1xuICAgIGlmIChyYW5nZSkge1xuICAgICAgaWYgKCFtb3ZlKSB7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gZmluZENsb3Nlc3QodmFsdWVzLCBuZXdWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVJbmRleCA9IHByZXZpb3VzSW5kZXguY3VycmVudDtcbiAgICAgIH1cblxuICAgICAgLy8gQm91bmQgdGhlIG5ldyB2YWx1ZSB0byB0aGUgdGh1bWIncyBuZWlnaGJvdXJzLlxuICAgICAgaWYgKGRpc2FibGVTd2FwKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY2xhbXAobmV3VmFsdWUsIHZhbHVlc1thY3RpdmVJbmRleCAtIDFdIHx8IC1JbmZpbml0eSwgdmFsdWVzW2FjdGl2ZUluZGV4ICsgMV0gfHwgSW5maW5pdHkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgbmV3VmFsdWUgPSBzZXRWYWx1ZUluZGV4KHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgaW5kZXg6IGFjdGl2ZUluZGV4XG4gICAgICB9KTtcblxuICAgICAgLy8gUG90ZW50aWFsbHkgc3dhcCB0aGUgaW5kZXggaWYgbmVlZGVkLlxuICAgICAgaWYgKCEoZGlzYWJsZVN3YXAgJiYgbW92ZSkpIHtcbiAgICAgICAgYWN0aXZlSW5kZXggPSBuZXdWYWx1ZS5pbmRleE9mKHByZXZpb3VzVmFsdWUpO1xuICAgICAgICBwcmV2aW91c0luZGV4LmN1cnJlbnQgPSBhY3RpdmVJbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG5ld1ZhbHVlLFxuICAgICAgYWN0aXZlSW5kZXhcbiAgICB9O1xuICB9O1xuICBjb25zdCBoYW5kbGVUb3VjaE1vdmUgPSAoMCwgX3V0aWxzLnVuc3RhYmxlX3VzZUV2ZW50Q2FsbGJhY2spKG5hdGl2ZUV2ZW50ID0+IHtcbiAgICBjb25zdCBmaW5nZXIgPSB0cmFja0ZpbmdlcihuYXRpdmVFdmVudCwgdG91Y2hJZCk7XG4gICAgaWYgKCFmaW5nZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbW92ZUNvdW50LmN1cnJlbnQgKz0gMTtcblxuICAgIC8vIENhbmNlbCBtb3ZlIGluIGNhc2Ugc29tZSBvdGhlciBlbGVtZW50IGNvbnN1bWVkIGEgbW91c2V1cCBldmVudCBhbmQgaXQgd2FzIG5vdCBmaXJlZC5cbiAgICAvLyBAdHMtaWdub3JlIGJ1dHRvbnMgZG9lc24ndCBub3QgZXhpc3RzIG9uIHRvdWNoIGV2ZW50XG4gICAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdtb3VzZW1vdmUnICYmIG5hdGl2ZUV2ZW50LmJ1dHRvbnMgPT09IDApIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGhhbmRsZVRvdWNoRW5kKG5hdGl2ZUV2ZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgbmV3VmFsdWUsXG4gICAgICBhY3RpdmVJbmRleFxuICAgIH0gPSBnZXRGaW5nZXJOZXdWYWx1ZSh7XG4gICAgICBmaW5nZXIsXG4gICAgICBtb3ZlOiB0cnVlXG4gICAgfSk7XG4gICAgZm9jdXNUaHVtYih7XG4gICAgICBzbGlkZXJSZWYsXG4gICAgICBhY3RpdmVJbmRleCxcbiAgICAgIHNldEFjdGl2ZVxuICAgIH0pO1xuICAgIHNldFZhbHVlU3RhdGUobmV3VmFsdWUpO1xuICAgIGlmICghZHJhZ2dpbmcgJiYgbW92ZUNvdW50LmN1cnJlbnQgPiBJTlRFTlRJT05BTF9EUkFHX0NPVU5UX1RIUkVTSE9MRCkge1xuICAgICAgc2V0RHJhZ2dpbmcodHJ1ZSk7XG4gICAgfVxuICAgIGlmIChoYW5kbGVDaGFuZ2UgJiYgIWFyZVZhbHVlc0VxdWFsKG5ld1ZhbHVlLCB2YWx1ZURlcml2ZWQpKSB7XG4gICAgICBoYW5kbGVDaGFuZ2UobmF0aXZlRXZlbnQsIG5ld1ZhbHVlLCBhY3RpdmVJbmRleCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlVG91Y2hFbmQgPSAoMCwgX3V0aWxzLnVuc3RhYmxlX3VzZUV2ZW50Q2FsbGJhY2spKG5hdGl2ZUV2ZW50ID0+IHtcbiAgICBjb25zdCBmaW5nZXIgPSB0cmFja0ZpbmdlcihuYXRpdmVFdmVudCwgdG91Y2hJZCk7XG4gICAgc2V0RHJhZ2dpbmcoZmFsc2UpO1xuICAgIGlmICghZmluZ2VyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIG5ld1ZhbHVlXG4gICAgfSA9IGdldEZpbmdlck5ld1ZhbHVlKHtcbiAgICAgIGZpbmdlcixcbiAgICAgIG1vdmU6IHRydWVcbiAgICB9KTtcbiAgICBzZXRBY3RpdmUoLTEpO1xuICAgIGlmIChuYXRpdmVFdmVudC50eXBlID09PSAndG91Y2hlbmQnKSB7XG4gICAgICBzZXRPcGVuKC0xKTtcbiAgICB9XG4gICAgaWYgKG9uQ2hhbmdlQ29tbWl0dGVkKSB7XG4gICAgICBvbkNoYW5nZUNvbW1pdHRlZChuYXRpdmVFdmVudCwgbmV3VmFsdWUpO1xuICAgIH1cbiAgICB0b3VjaElkLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgc3RvcExpc3RlbmluZygpO1xuICB9KTtcbiAgY29uc3QgaGFuZGxlVG91Y2hTdGFydCA9ICgwLCBfdXRpbHMudW5zdGFibGVfdXNlRXZlbnRDYWxsYmFjaykobmF0aXZlRXZlbnQgPT4ge1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZiB0b3VjaC1hY3Rpb246IG5vbmU7IGlzIG5vdCBzdXBwb3J0ZWQgd2UgbmVlZCB0byBwcmV2ZW50IHRoZSBzY3JvbGwgbWFudWFsbHkuXG4gICAgaWYgKCFkb2VzU3VwcG9ydFRvdWNoQWN0aW9uTm9uZSgpKSB7XG4gICAgICBuYXRpdmVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBjb25zdCB0b3VjaCA9IG5hdGl2ZUV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgIGlmICh0b3VjaCAhPSBudWxsKSB7XG4gICAgICAvLyBBIG51bWJlciB0aGF0IHVuaXF1ZWx5IGlkZW50aWZpZXMgdGhlIGN1cnJlbnQgZmluZ2VyIGluIHRoZSB0b3VjaCBzZXNzaW9uLlxuICAgICAgdG91Y2hJZC5jdXJyZW50ID0gdG91Y2guaWRlbnRpZmllcjtcbiAgICB9XG4gICAgY29uc3QgZmluZ2VyID0gdHJhY2tGaW5nZXIobmF0aXZlRXZlbnQsIHRvdWNoSWQpO1xuICAgIGlmIChmaW5nZXIgIT09IGZhbHNlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICBhY3RpdmVJbmRleFxuICAgICAgfSA9IGdldEZpbmdlck5ld1ZhbHVlKHtcbiAgICAgICAgZmluZ2VyXG4gICAgICB9KTtcbiAgICAgIGZvY3VzVGh1bWIoe1xuICAgICAgICBzbGlkZXJSZWYsXG4gICAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgICBzZXRBY3RpdmVcbiAgICAgIH0pO1xuICAgICAgc2V0VmFsdWVTdGF0ZShuZXdWYWx1ZSk7XG4gICAgICBpZiAoaGFuZGxlQ2hhbmdlICYmICFhcmVWYWx1ZXNFcXVhbChuZXdWYWx1ZSwgdmFsdWVEZXJpdmVkKSkge1xuICAgICAgICBoYW5kbGVDaGFuZ2UobmF0aXZlRXZlbnQsIG5ld1ZhbHVlLCBhY3RpdmVJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICAgIG1vdmVDb3VudC5jdXJyZW50ID0gMDtcbiAgICBjb25zdCBkb2MgPSAoMCwgX3V0aWxzLnVuc3RhYmxlX293bmVyRG9jdW1lbnQpKHNsaWRlclJlZi5jdXJyZW50KTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlVG91Y2hNb3ZlKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBoYW5kbGVUb3VjaEVuZCk7XG4gIH0pO1xuICBjb25zdCBzdG9wTGlzdGVuaW5nID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGRvYyA9ICgwLCBfdXRpbHMudW5zdGFibGVfb3duZXJEb2N1bWVudCkoc2xpZGVyUmVmLmN1cnJlbnQpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVUb3VjaE1vdmUpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlVG91Y2hFbmQpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaE1vdmUpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kKTtcbiAgfSwgW2hhbmRsZVRvdWNoRW5kLCBoYW5kbGVUb3VjaE1vdmVdKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjdXJyZW50OiBzbGlkZXJcbiAgICB9ID0gc2xpZGVyUmVmO1xuICAgIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlVG91Y2hTdGFydCwge1xuICAgICAgcGFzc2l2ZTogZG9lc1N1cHBvcnRUb3VjaEFjdGlvbk5vbmUoKVxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBzbGlkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZVRvdWNoU3RhcnQsIHtcbiAgICAgICAgcGFzc2l2ZTogZG9lc1N1cHBvcnRUb3VjaEFjdGlvbk5vbmUoKVxuICAgICAgfSk7XG4gICAgICBzdG9wTGlzdGVuaW5nKCk7XG4gICAgfTtcbiAgfSwgW3N0b3BMaXN0ZW5pbmcsIGhhbmRsZVRvdWNoU3RhcnRdKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIHN0b3BMaXN0ZW5pbmcoKTtcbiAgICB9XG4gIH0sIFtkaXNhYmxlZCwgc3RvcExpc3RlbmluZ10pO1xuICBjb25zdCBjcmVhdGVIYW5kbGVNb3VzZURvd24gPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25Nb3VzO1xuICAgIChfb3RoZXJIYW5kbGVycyRvbk1vdXMgPSBvdGhlckhhbmRsZXJzLm9uTW91c2VEb3duKSA9PSBudWxsID8gdm9pZCAwIDogX290aGVySGFuZGxlcnMkb25Nb3VzLmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9ubHkgaGFuZGxlIGxlZnQgY2xpY2tzXG4gICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEF2b2lkIHRleHQgc2VsZWN0aW9uXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmaW5nZXIgPSB0cmFja0ZpbmdlcihldmVudCwgdG91Y2hJZCk7XG4gICAgaWYgKGZpbmdlciAhPT0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgIGFjdGl2ZUluZGV4XG4gICAgICB9ID0gZ2V0RmluZ2VyTmV3VmFsdWUoe1xuICAgICAgICBmaW5nZXJcbiAgICAgIH0pO1xuICAgICAgZm9jdXNUaHVtYih7XG4gICAgICAgIHNsaWRlclJlZixcbiAgICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICAgIHNldEFjdGl2ZVxuICAgICAgfSk7XG4gICAgICBzZXRWYWx1ZVN0YXRlKG5ld1ZhbHVlKTtcbiAgICAgIGlmIChoYW5kbGVDaGFuZ2UgJiYgIWFyZVZhbHVlc0VxdWFsKG5ld1ZhbHVlLCB2YWx1ZURlcml2ZWQpKSB7XG4gICAgICAgIGhhbmRsZUNoYW5nZShldmVudCwgbmV3VmFsdWUsIGFjdGl2ZUluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW92ZUNvdW50LmN1cnJlbnQgPSAwO1xuICAgIGNvbnN0IGRvYyA9ICgwLCBfdXRpbHMudW5zdGFibGVfb3duZXJEb2N1bWVudCkoc2xpZGVyUmVmLmN1cnJlbnQpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVUb3VjaE1vdmUpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlVG91Y2hFbmQpO1xuICB9O1xuICBjb25zdCB0cmFja09mZnNldCA9IHZhbHVlVG9QZXJjZW50KHJhbmdlID8gdmFsdWVzWzBdIDogbWluLCBtaW4sIG1heCk7XG4gIGNvbnN0IHRyYWNrTGVhcCA9IHZhbHVlVG9QZXJjZW50KHZhbHVlc1t2YWx1ZXMubGVuZ3RoIC0gMV0sIG1pbiwgbWF4KSAtIHRyYWNrT2Zmc2V0O1xuICBjb25zdCBnZXRSb290UHJvcHMgPSAob3RoZXJIYW5kbGVycyA9IHt9KSA9PiB7XG4gICAgY29uc3Qgb3duRXZlbnRIYW5kbGVycyA9IHtcbiAgICAgIG9uTW91c2VEb3duOiBjcmVhdGVIYW5kbGVNb3VzZURvd24ob3RoZXJIYW5kbGVycyB8fCB7fSlcbiAgICB9O1xuICAgIGNvbnN0IG1lcmdlZEV2ZW50SGFuZGxlcnMgPSAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHt9LCBvdGhlckhhbmRsZXJzLCBvd25FdmVudEhhbmRsZXJzKTtcbiAgICByZXR1cm4gKDAsIF9leHRlbmRzMi5kZWZhdWx0KSh7XG4gICAgICByZWY6IGhhbmRsZVJlZlxuICAgIH0sIG1lcmdlZEV2ZW50SGFuZGxlcnMpO1xuICB9O1xuICBjb25zdCBjcmVhdGVIYW5kbGVNb3VzZU92ZXIgPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25Nb3VzMjtcbiAgICAoX290aGVySGFuZGxlcnMkb25Nb3VzMiA9IG90aGVySGFuZGxlcnMub25Nb3VzZU92ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfb3RoZXJIYW5kbGVycyRvbk1vdXMyLmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICAgIGNvbnN0IGluZGV4ID0gTnVtYmVyKGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpO1xuICAgIHNldE9wZW4oaW5kZXgpO1xuICB9O1xuICBjb25zdCBjcmVhdGVIYW5kbGVNb3VzZUxlYXZlID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uTW91czM7XG4gICAgKF9vdGhlckhhbmRsZXJzJG9uTW91czMgPSBvdGhlckhhbmRsZXJzLm9uTW91c2VMZWF2ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdGhlckhhbmRsZXJzJG9uTW91czMuY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG4gICAgc2V0T3BlbigtMSk7XG4gIH07XG4gIGNvbnN0IGdldFRodW1iUHJvcHMgPSAob3RoZXJIYW5kbGVycyA9IHt9KSA9PiB7XG4gICAgY29uc3Qgb3duRXZlbnRIYW5kbGVycyA9IHtcbiAgICAgIG9uTW91c2VPdmVyOiBjcmVhdGVIYW5kbGVNb3VzZU92ZXIob3RoZXJIYW5kbGVycyB8fCB7fSksXG4gICAgICBvbk1vdXNlTGVhdmU6IGNyZWF0ZUhhbmRsZU1vdXNlTGVhdmUob3RoZXJIYW5kbGVycyB8fCB7fSlcbiAgICB9O1xuICAgIHJldHVybiAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHt9LCBvdGhlckhhbmRsZXJzLCBvd25FdmVudEhhbmRsZXJzKTtcbiAgfTtcbiAgY29uc3QgZ2V0VGh1bWJTdHlsZSA9IGluZGV4ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU28gdGhlIG5vbiBhY3RpdmUgdGh1bWIgZG9lc24ndCBzaG93IGl0cyBsYWJlbCBvbiBob3Zlci5cbiAgICAgIHBvaW50ZXJFdmVudHM6IGFjdGl2ZSAhPT0gLTEgJiYgYWN0aXZlICE9PSBpbmRleCA/ICdub25lJyA6IHVuZGVmaW5lZFxuICAgIH07XG4gIH07XG4gIGNvbnN0IGdldEhpZGRlbklucHV0UHJvcHMgPSAob3RoZXJIYW5kbGVycyA9IHt9KSA9PiB7XG4gICAgdmFyIF9wYXJhbWV0ZXJzJHN0ZXA7XG4gICAgY29uc3Qgb3duRXZlbnRIYW5kbGVycyA9IHtcbiAgICAgIG9uQ2hhbmdlOiBjcmVhdGVIYW5kbGVIaWRkZW5JbnB1dENoYW5nZShvdGhlckhhbmRsZXJzIHx8IHt9KSxcbiAgICAgIG9uRm9jdXM6IGNyZWF0ZUhhbmRsZUhpZGRlbklucHV0Rm9jdXMob3RoZXJIYW5kbGVycyB8fCB7fSksXG4gICAgICBvbkJsdXI6IGNyZWF0ZUhhbmRsZUhpZGRlbklucHV0Qmx1cihvdGhlckhhbmRsZXJzIHx8IHt9KVxuICAgIH07XG4gICAgY29uc3QgbWVyZ2VkRXZlbnRIYW5kbGVycyA9ICgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoe30sIG90aGVySGFuZGxlcnMsIG93bkV2ZW50SGFuZGxlcnMpO1xuICAgIHJldHVybiAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHtcbiAgICAgIHRhYkluZGV4LFxuICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6IGFyaWFMYWJlbGxlZGJ5LFxuICAgICAgJ2FyaWEtb3JpZW50YXRpb24nOiBvcmllbnRhdGlvbixcbiAgICAgICdhcmlhLXZhbHVlbWF4Jzogc2NhbGUobWF4KSxcbiAgICAgICdhcmlhLXZhbHVlbWluJzogc2NhbGUobWluKSxcbiAgICAgIG5hbWUsXG4gICAgICB0eXBlOiAncmFuZ2UnLFxuICAgICAgbWluOiBwYXJhbWV0ZXJzLm1pbixcbiAgICAgIG1heDogcGFyYW1ldGVycy5tYXgsXG4gICAgICBzdGVwOiBwYXJhbWV0ZXJzLnN0ZXAgPT09IG51bGwgJiYgcGFyYW1ldGVycy5tYXJrcyA/ICdhbnknIDogKF9wYXJhbWV0ZXJzJHN0ZXAgPSBwYXJhbWV0ZXJzLnN0ZXApICE9IG51bGwgPyBfcGFyYW1ldGVycyRzdGVwIDogdW5kZWZpbmVkLFxuICAgICAgZGlzYWJsZWRcbiAgICB9LCBtZXJnZWRFdmVudEhhbmRsZXJzLCB7XG4gICAgICBzdHlsZTogKDAsIF9leHRlbmRzMi5kZWZhdWx0KSh7fSwgX3V0aWxzLnZpc3VhbGx5SGlkZGVuLCB7XG4gICAgICAgIGRpcmVjdGlvbjogaXNSdGwgPyAncnRsJyA6ICdsdHInLFxuICAgICAgICAvLyBTbyB0aGF0IFZvaWNlT3ZlcidzIGZvY3VzIGluZGljYXRvciBtYXRjaGVzIHRoZSB0aHVtYidzIGRpbWVuc2lvbnNcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJSdcbiAgICAgIH0pXG4gICAgfSk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgYWN0aXZlLFxuICAgIGF4aXM6IGF4aXMsXG4gICAgYXhpc1Byb3BzLFxuICAgIGRyYWdnaW5nLFxuICAgIGZvY3VzZWRUaHVtYkluZGV4LFxuICAgIGdldEhpZGRlbklucHV0UHJvcHMsXG4gICAgZ2V0Um9vdFByb3BzLFxuICAgIGdldFRodW1iUHJvcHMsXG4gICAgbWFya3M6IG1hcmtzLFxuICAgIG9wZW4sXG4gICAgcmFuZ2UsXG4gICAgcm9vdFJlZjogaGFuZGxlUmVmLFxuICAgIHRyYWNrTGVhcCxcbiAgICB0cmFja09mZnNldCxcbiAgICB2YWx1ZXMsXG4gICAgZ2V0VGh1bWJTdHlsZVxuICB9O1xufSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTtBQUNaLFlBQVk7O0FBRVosSUFBSUEsc0JBQXNCLEdBQUdDLE9BQU8sQ0FBQyw4Q0FBOEMsQ0FBQztBQUNwRkMsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NDLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGRCxPQUFPLENBQUNFLFFBQVEsR0FBRyxLQUFLLENBQUM7QUFDekJGLE9BQU8sQ0FBQ0csU0FBUyxHQUFHQSxTQUFTO0FBQzdCSCxPQUFPLENBQUNJLGNBQWMsR0FBR0EsY0FBYztBQUN2QyxJQUFJQyxTQUFTLEdBQUdULHNCQUFzQixDQUFDQyxPQUFPLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztBQUNqRixJQUFJUyxLQUFLLEdBQUdDLHVCQUF1QixDQUFDVixPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDckQsSUFBSVcsTUFBTSxHQUFHWCxPQUFPLENBQUMsWUFBWSxDQUFDO0FBQ2xDLElBQUlZLE9BQU8sR0FBR1osT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNqQyxTQUFTYSx3QkFB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