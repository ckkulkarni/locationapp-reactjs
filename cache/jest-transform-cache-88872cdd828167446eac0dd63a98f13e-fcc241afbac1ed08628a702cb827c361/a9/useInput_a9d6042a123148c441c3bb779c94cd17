16d77187c0a3fbe2928e417f8f7ec929
"use strict";
'use client';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useInput = useInput;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _utils = require("@mui/utils");
var React = _interopRequireWildcard(require("react"));
var _FormControl = require("../FormControl");
var _extractEventHandlers = require("../utils/extractEventHandlers");
function _getRequireWildcardCache(nodeInterop) {
  if (typeof WeakMap !== "function") return null;
  var cacheBabelInterop = new WeakMap();
  var cacheNodeInterop = new WeakMap();
  return (_getRequireWildcardCache = function (nodeInterop) {
    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
  })(nodeInterop);
}
function _interopRequireWildcard(obj, nodeInterop) {
  if (!nodeInterop && obj && obj.__esModule) {
    return obj;
  }
  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }
  var cache = _getRequireWildcardCache(nodeInterop);
  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }
  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var key in obj) {
    if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }
  newObj.default = obj;
  if (cache) {
    cache.set(obj, newObj);
  }
  return newObj;
}
/**
 *
 * Demos:
 *
 * - [Input](https://mui.com/base-ui/react-input/#hook)
 *
 * API:
 *
 * - [useInput API](https://mui.com/base-ui/react-input/hooks-api/#use-input)
 */
function useInput(parameters) {
  const {
    defaultValue: defaultValueProp,
    disabled: disabledProp = false,
    error: errorProp = false,
    onBlur,
    onChange,
    onFocus,
    required: requiredProp = false,
    value: valueProp,
    inputRef: inputRefProp
  } = parameters;
  const formControlContext = (0, _FormControl.useFormControlContext)();
  let defaultValue;
  let disabled;
  let error;
  let required;
  let value;
  if (formControlContext) {
    var _formControlContext$d, _formControlContext$e, _formControlContext$r;
    defaultValue = undefined;
    disabled = (_formControlContext$d = formControlContext.disabled) != null ? _formControlContext$d : false;
    error = (_formControlContext$e = formControlContext.error) != null ? _formControlContext$e : false;
    required = (_formControlContext$r = formControlContext.required) != null ? _formControlContext$r : false;
    value = formControlContext.value;
    if (process.env.NODE_ENV !== 'production') {
      const definedLocalProps = ['defaultValue', 'disabled', 'error', 'required', 'value'].filter(prop => parameters[prop] !== undefined);
      if (definedLocalProps.length > 0) {
        console.warn(['MUI: You have set props on an input that is inside a FormControl.', 'Set these props on a FormControl instead. Otherwise they will be ignored.', `Ignored props: ${definedLocalProps.join(', ')}`].join('\n'));
      }
    }
  } else {
    defaultValue = defaultValueProp;
    disabled = disabledProp;
    error = errorProp;
    required = requiredProp;
    value = valueProp;
  }
  const {
    current: isControlled
  } = React.useRef(value != null);
  const handleInputRefWarning = React.useCallback(instance => {
    if (process.env.NODE_ENV !== 'production') {
      if (instance && instance.nodeName !== 'INPUT' && !instance.focus) {
        console.error(['MUI: You have provided a `slots.input` to the input component', 'that does not correctly handle the `ref` prop.', 'Make sure the `ref` prop is called with a HTMLInputElement.'].join('\n'));
      }
    }
  }, []);
  const inputRef = React.useRef(null);
  const handleInputRef = (0, _utils.unstable_useForkRef)(inputRef, inputRefProp, handleInputRefWarning);
  const [focused, setFocused] = React.useState(false);

  // The blur won't fire when the disabled state is set on a focused input.
  // We need to book keep the focused state manually.
  React.useEffect(() => {
    if (!formControlContext && disabled && focused) {
      setFocused(false);

      // @ts-ignore
      onBlur == null ? void 0 : onBlur();
    }
  }, [formControlContext, disabled, focused, onBlur]);
  const handleFocus = otherHandlers => event => {
    var _otherHandlers$onFocu;
    // Fix a bug with IE11 where the focus/blur events are triggered
    // while the component is disabled.
    if (formControlContext != null && formControlContext.disabled) {
      event.stopPropagation();
      return;
    }
    (_otherHandlers$onFocu = otherHandlers.onFocus) == null ? void 0 : _otherHandlers$onFocu.call(otherHandlers, event);
    if (formControlContext && formControlContext.onFocus) {
      var _formControlContext$o;
      formControlContext == null || (_formControlContext$o = formControlContext.onFocus) == null ? void 0 : _formControlContext$o.call(formControlContext);
    } else {
      setFocused(true);
    }
  };
  const handleBlur = otherHandlers => event => {
    var _otherHandlers$onBlur;
    (_otherHandlers$onBlur = otherHandlers.onBlur) == null ? void 0 : _otherHandlers$onBlur.call(otherHandlers, event);
    if (formControlContext && formControlContext.onBlur) {
      formControlContext.onBlur();
    } else {
      setFocused(false);
    }
  };
  const handleChange = otherHandlers => (event, ...args) => {
    var _formControlContext$o2, _otherHandlers$onChan;
    if (!isControlled) {
      const element = event.target || inputRef.current;
      if (element == null) {
        throw new Error(process.env.NODE_ENV !== "production" ? `MUI: Expected valid input target. Did you use a custom \`slots.input\` and forget to forward refs? See https://mui.com/r/input-component-ref-interface for more info.` : (0, _utils.formatMuiErrorMessage)(17));
      }
    }
    formControlContext == null || (_formControlContext$o2 = formControlContext.onChange) == null ? void 0 : _formControlContext$o2.call(formControlContext, event);

    // @ts-ignore
    (_otherHandlers$onChan = otherHandlers.onChange) == null ? void 0 : _otherHandlers$onChan.call(otherHandlers, event, ...args);
  };
  const handleClick = otherHandlers => event => {
    var _otherHandlers$onClic;
    if (inputRef.current && event.currentTarget === event.target) {
      inputRef.current.focus();
    }
    (_otherHandlers$onClic = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic.call(otherHandlers, event);
  };
  const getRootProps = (externalProps = {}) => {
    // onBlur, onChange and onFocus are forwarded to the input slot.
    const propsEventHandlers = (0, _extractEventHandlers.extractEventHandlers)(parameters, ['onBlur', 'onChange', 'onFocus']);
    const externalEventHandlers = (0, _extends2.default)({}, propsEventHandlers, (0, _extractEventHandlers.extractEventHandlers)(externalProps));
    return (0, _extends2.default)({}, externalProps, externalEventHandlers, {
      onClick: handleClick(externalEventHandlers)
    });
  };
  const getInputProps = (externalProps = {}) => {
    const propsEventHandlers = {
      onBlur,
      onChange,
      onFocus
    };
    const externalEventHandlers = (0, _extends2.default)({}, propsEventHandlers, (0, _extractEventHandlers.extractEventHandlers)(externalProps));
    const mergedEventHandlers = (0, _extends2.default)({}, externalProps, externalEventHandlers, {
      onBlur: handleBlur(externalEventHandlers),
      onChange: handleChange(externalEventHandlers),
      onFocus: handleFocus(externalEventHandlers)
    });
    return (0, _extends2.default)({}, mergedEventHandlers, {
      'aria-invalid': error || undefined,
      defaultValue: defaultValue,
      ref: handleInputRef,
      value: value,
      required,
      disabled
    });
  };
  return {
    disabled,
    error,
    focused,
    formControlContext,
    getInputProps,
    getRootProps,
    inputRef: handleInputRef,
    required,
    value
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidXNlSW5wdXQiLCJfZXh0ZW5kczIiLCJfdXRpbHMiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX0Zvcm1Db250cm9sIiwiX2V4dHJhY3RFdmVudEhhbmRsZXJzIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJwYXJhbWV0ZXJzIiwiZGVmYXVsdFZhbHVlIiwiZGVmYXVsdFZhbHVlUHJvcCIsImRpc2FibGVkIiwiZGlzYWJsZWRQcm9wIiwiZXJyb3IiLCJlcnJvclByb3AiLCJvbkJsdXIiLCJvbkNoYW5nZSIsIm9uRm9jdXMiLCJyZXF1aXJlZCIsInJlcXVpcmVkUHJvcCIsInZhbHVlUHJvcCIsImlucHV0UmVmIiwiaW5wdXRSZWZQcm9wIiwiZm9ybUNvbnRyb2xDb250ZXh0IiwidXNlRm9ybUNvbnRyb2xDb250ZXh0IiwiX2Zvcm1Db250cm9sQ29udGV4dCRkIiwiX2Zvcm1Db250cm9sQ29udGV4dCRlIiwiX2Zvcm1Db250cm9sQ29udGV4dCRyIiwidW5kZWZpbmVkIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZGVmaW5lZExvY2FsUHJvcHMiLCJmaWx0ZXIiLCJwcm9wIiwibGVuZ3RoIiwiY29uc29sZSIsIndhcm4iLCJqb2luIiwiY3VycmVudCIsImlzQ29udHJvbGxlZCIsInVzZVJlZiIsImhhbmRsZUlucHV0UmVmV2FybmluZyIsInVzZUNhbGxiYWNrIiwiaW5zdGFuY2UiLCJub2RlTmFtZSIsImZvY3VzIiwiaGFuZGxlSW5wdXRSZWYiLCJ1bnN0YWJsZV91c2VGb3JrUmVmIiwiZm9jdXNlZCIsInNldEZvY3VzZWQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImhhbmRsZUZvY3VzIiwib3RoZXJIYW5kbGVycyIsImV2ZW50IiwiX290aGVySGFuZGxlcnMkb25Gb2N1Iiwic3RvcFByb3BhZ2F0aW9uIiwiX2Zvcm1Db250cm9sQ29udGV4dCRvIiwiaGFuZGxlQmx1ciIsIl9vdGhlckhhbmRsZXJzJG9uQmx1ciIsImhhbmRsZUNoYW5nZSIsImFyZ3MiLCJfZm9ybUNvbnRyb2xDb250ZXh0JG8yIiwiX290aGVySGFuZGxlcnMkb25DaGFuIiwiZWxlbWVudCIsInRhcmdldCIsIkVycm9yIiwiZm9ybWF0TXVpRXJyb3JNZXNzYWdlIiwiaGFuZGxlQ2xpY2siLCJfb3RoZXJIYW5kbGVycyRvbkNsaWMiLCJjdXJyZW50VGFyZ2V0Iiwib25DbGljayIsImdldFJvb3RQcm9wcyIsImV4dGVybmFsUHJvcHMiLCJwcm9wc0V2ZW50SGFuZGxlcnMiLCJleHRyYWN0RXZlbnRIYW5kbGVycyIsImV4dGVybmFsRXZlbnRIYW5kbGVycyIsImdldElucHV0UHJvcHMiLCJtZXJnZWRFdmVudEhhbmRsZXJzIiwicmVmIl0sInNvdXJjZXMiOlsidXNlSW5wdXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4ndXNlIGNsaWVudCc7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudXNlSW5wdXQgPSB1c2VJbnB1dDtcbnZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xudmFyIF91dGlscyA9IHJlcXVpcmUoXCJAbXVpL3V0aWxzXCIpO1xudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcbnZhciBfRm9ybUNvbnRyb2wgPSByZXF1aXJlKFwiLi4vRm9ybUNvbnRyb2xcIik7XG52YXIgX2V4dHJhY3RFdmVudEhhbmRsZXJzID0gcmVxdWlyZShcIi4uL3V0aWxzL2V4dHJhY3RFdmVudEhhbmRsZXJzXCIpO1xuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlQmFiZWxJbnRlcm9wID0gbmV3IFdlYWtNYXAoKTsgdmFyIGNhY2hlTm9kZUludGVyb3AgPSBuZXcgV2Vha01hcCgpOyByZXR1cm4gKF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIChub2RlSW50ZXJvcCkgeyByZXR1cm4gbm9kZUludGVyb3AgPyBjYWNoZU5vZGVJbnRlcm9wIDogY2FjaGVCYWJlbEludGVyb3A7IH0pKG5vZGVJbnRlcm9wKTsgfVxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqLCBub2RlSW50ZXJvcCkgeyBpZiAoIW5vZGVJbnRlcm9wICYmIG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgZGVmYXVsdDogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKTsgaWYgKGNhY2hlICYmIGNhY2hlLmhhcyhvYmopKSB7IHJldHVybiBjYWNoZS5nZXQob2JqKTsgfSB2YXIgbmV3T2JqID0ge307IHZhciBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoa2V5ICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyBpZiAoY2FjaGUpIHsgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTsgfSByZXR1cm4gbmV3T2JqOyB9XG4vKipcbiAqXG4gKiBEZW1vczpcbiAqXG4gKiAtIFtJbnB1dF0oaHR0cHM6Ly9tdWkuY29tL2Jhc2UtdWkvcmVhY3QtaW5wdXQvI2hvb2spXG4gKlxuICogQVBJOlxuICpcbiAqIC0gW3VzZUlucHV0IEFQSV0oaHR0cHM6Ly9tdWkuY29tL2Jhc2UtdWkvcmVhY3QtaW5wdXQvaG9va3MtYXBpLyN1c2UtaW5wdXQpXG4gKi9cbmZ1bmN0aW9uIHVzZUlucHV0KHBhcmFtZXRlcnMpIHtcbiAgY29uc3Qge1xuICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlUHJvcCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWRQcm9wID0gZmFsc2UsXG4gICAgZXJyb3I6IGVycm9yUHJvcCA9IGZhbHNlLFxuICAgIG9uQmx1cixcbiAgICBvbkNoYW5nZSxcbiAgICBvbkZvY3VzLFxuICAgIHJlcXVpcmVkOiByZXF1aXJlZFByb3AgPSBmYWxzZSxcbiAgICB2YWx1ZTogdmFsdWVQcm9wLFxuICAgIGlucHV0UmVmOiBpbnB1dFJlZlByb3BcbiAgfSA9IHBhcmFtZXRlcnM7XG4gIGNvbnN0IGZvcm1Db250cm9sQ29udGV4dCA9ICgwLCBfRm9ybUNvbnRyb2wudXNlRm9ybUNvbnRyb2xDb250ZXh0KSgpO1xuICBsZXQgZGVmYXVsdFZhbHVlO1xuICBsZXQgZGlzYWJsZWQ7XG4gIGxldCBlcnJvcjtcbiAgbGV0IHJlcXVpcmVkO1xuICBsZXQgdmFsdWU7XG4gIGlmIChmb3JtQ29udHJvbENvbnRleHQpIHtcbiAgICB2YXIgX2Zvcm1Db250cm9sQ29udGV4dCRkLCBfZm9ybUNvbnRyb2xDb250ZXh0JGUsIF9mb3JtQ29udHJvbENvbnRleHQkcjtcbiAgICBkZWZhdWx0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgZGlzYWJsZWQgPSAoX2Zvcm1Db250cm9sQ29udGV4dCRkID0gZm9ybUNvbnRyb2xDb250ZXh0LmRpc2FibGVkKSAhPSBudWxsID8gX2Zvcm1Db250cm9sQ29udGV4dCRkIDogZmFsc2U7XG4gICAgZXJyb3IgPSAoX2Zvcm1Db250cm9sQ29udGV4dCRlID0gZm9ybUNvbnRyb2xDb250ZXh0LmVycm9yKSAhPSBudWxsID8gX2Zvcm1Db250cm9sQ29udGV4dCRlIDogZmFsc2U7XG4gICAgcmVxdWlyZWQgPSAoX2Zvcm1Db250cm9sQ29udGV4dCRyID0gZm9ybUNvbnRyb2xDb250ZXh0LnJlcXVpcmVkKSAhPSBudWxsID8gX2Zvcm1Db250cm9sQ29udGV4dCRyIDogZmFsc2U7XG4gICAgdmFsdWUgPSBmb3JtQ29udHJvbENvbnRleHQudmFsdWU7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnN0IGRlZmluZWRMb2NhbFByb3BzID0gWydkZWZhdWx0VmFsdWUnLCAnZGlzYWJsZWQnLCAnZXJyb3InLCAncmVxdWlyZWQnLCAndmFsdWUnXS5maWx0ZXIocHJvcCA9PiBwYXJhbWV0ZXJzW3Byb3BdICE9PSB1bmRlZmluZWQpO1xuICAgICAgaWYgKGRlZmluZWRMb2NhbFByb3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFsnTVVJOiBZb3UgaGF2ZSBzZXQgcHJvcHMgb24gYW4gaW5wdXQgdGhhdCBpcyBpbnNpZGUgYSBGb3JtQ29udHJvbC4nLCAnU2V0IHRoZXNlIHByb3BzIG9uIGEgRm9ybUNvbnRyb2wgaW5zdGVhZC4gT3RoZXJ3aXNlIHRoZXkgd2lsbCBiZSBpZ25vcmVkLicsIGBJZ25vcmVkIHByb3BzOiAke2RlZmluZWRMb2NhbFByb3BzLmpvaW4oJywgJyl9YF0uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWVQcm9wO1xuICAgIGRpc2FibGVkID0gZGlzYWJsZWRQcm9wO1xuICAgIGVycm9yID0gZXJyb3JQcm9wO1xuICAgIHJlcXVpcmVkID0gcmVxdWlyZWRQcm9wO1xuICAgIHZhbHVlID0gdmFsdWVQcm9wO1xuICB9XG4gIGNvbnN0IHtcbiAgICBjdXJyZW50OiBpc0NvbnRyb2xsZWRcbiAgfSA9IFJlYWN0LnVzZVJlZih2YWx1ZSAhPSBudWxsKTtcbiAgY29uc3QgaGFuZGxlSW5wdXRSZWZXYXJuaW5nID0gUmVhY3QudXNlQ2FsbGJhY2soaW5zdGFuY2UgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2Uubm9kZU5hbWUgIT09ICdJTlBVVCcgJiYgIWluc3RhbmNlLmZvY3VzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoWydNVUk6IFlvdSBoYXZlIHByb3ZpZGVkIGEgYHNsb3RzLmlucHV0YCB0byB0aGUgaW5wdXQgY29tcG9uZW50JywgJ3RoYXQgZG9lcyBub3QgY29ycmVjdGx5IGhhbmRsZSB0aGUgYHJlZmAgcHJvcC4nLCAnTWFrZSBzdXJlIHRoZSBgcmVmYCBwcm9wIGlzIGNhbGxlZCB3aXRoIGEgSFRNTElucHV0RWxlbWVudC4nXS5qb2luKCdcXG4nKSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG4gIGNvbnN0IGlucHV0UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBoYW5kbGVJbnB1dFJlZiA9ICgwLCBfdXRpbHMudW5zdGFibGVfdXNlRm9ya1JlZikoaW5wdXRSZWYsIGlucHV0UmVmUHJvcCwgaGFuZGxlSW5wdXRSZWZXYXJuaW5nKTtcbiAgY29uc3QgW2ZvY3VzZWQsIHNldEZvY3VzZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFRoZSBibHVyIHdvbid0IGZpcmUgd2hlbiB0aGUgZGlzYWJsZWQgc3RhdGUgaXMgc2V0IG9uIGEgZm9jdXNlZCBpbnB1dC5cbiAgLy8gV2UgbmVlZCB0byBib29rIGtlZXAgdGhlIGZvY3VzZWQgc3RhdGUgbWFudWFsbHkuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFmb3JtQ29udHJvbENvbnRleHQgJiYgZGlzYWJsZWQgJiYgZm9jdXNlZCkge1xuICAgICAgc2V0Rm9jdXNlZChmYWxzZSk7XG5cbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIG9uQmx1ciA9PSBudWxsID8gdm9pZCAwIDogb25CbHVyKCk7XG4gICAgfVxuICB9LCBbZm9ybUNvbnRyb2xDb250ZXh0LCBkaXNhYmxlZCwgZm9jdXNlZCwgb25CbHVyXSk7XG4gIGNvbnN0IGhhbmRsZUZvY3VzID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uRm9jdTtcbiAgICAvLyBGaXggYSBidWcgd2l0aCBJRTExIHdoZXJlIHRoZSBmb2N1cy9ibHVyIGV2ZW50cyBhcmUgdHJpZ2dlcmVkXG4gICAgLy8gd2hpbGUgdGhlIGNvbXBvbmVudCBpcyBkaXNhYmxlZC5cbiAgICBpZiAoZm9ybUNvbnRyb2xDb250ZXh0ICE9IG51bGwgJiYgZm9ybUNvbnRyb2xDb250ZXh0LmRpc2FibGVkKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgKF9vdGhlckhhbmRsZXJzJG9uRm9jdSA9IG90aGVySGFuZGxlcnMub25Gb2N1cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdGhlckhhbmRsZXJzJG9uRm9jdS5jYWxsKG90aGVySGFuZGxlcnMsIGV2ZW50KTtcbiAgICBpZiAoZm9ybUNvbnRyb2xDb250ZXh0ICYmIGZvcm1Db250cm9sQ29udGV4dC5vbkZvY3VzKSB7XG4gICAgICB2YXIgX2Zvcm1Db250cm9sQ29udGV4dCRvO1xuICAgICAgZm9ybUNvbnRyb2xDb250ZXh0ID09IG51bGwgfHwgKF9mb3JtQ29udHJvbENvbnRleHQkbyA9IGZvcm1Db250cm9sQ29udGV4dC5vbkZvY3VzKSA9PSBudWxsID8gdm9pZCAwIDogX2Zvcm1Db250cm9sQ29udGV4dCRvLmNhbGwoZm9ybUNvbnRyb2xDb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0Rm9jdXNlZCh0cnVlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUJsdXIgPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25CbHVyO1xuICAgIChfb3RoZXJIYW5kbGVycyRvbkJsdXIgPSBvdGhlckhhbmRsZXJzLm9uQmx1cikgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdGhlckhhbmRsZXJzJG9uQmx1ci5jYWxsKG90aGVySGFuZGxlcnMsIGV2ZW50KTtcbiAgICBpZiAoZm9ybUNvbnRyb2xDb250ZXh0ICYmIGZvcm1Db250cm9sQ29udGV4dC5vbkJsdXIpIHtcbiAgICAgIGZvcm1Db250cm9sQ29udGV4dC5vbkJsdXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBvdGhlckhhbmRsZXJzID0+IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgIHZhciBfZm9ybUNvbnRyb2xDb250ZXh0JG8yLCBfb3RoZXJIYW5kbGVycyRvbkNoYW47XG4gICAgaWYgKCFpc0NvbnRyb2xsZWQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBldmVudC50YXJnZXQgfHwgaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGBNVUk6IEV4cGVjdGVkIHZhbGlkIGlucHV0IHRhcmdldC4gRGlkIHlvdSB1c2UgYSBjdXN0b20gXFxgc2xvdHMuaW5wdXRcXGAgYW5kIGZvcmdldCB0byBmb3J3YXJkIHJlZnM/IFNlZSBodHRwczovL211aS5jb20vci9pbnB1dC1jb21wb25lbnQtcmVmLWludGVyZmFjZSBmb3IgbW9yZSBpbmZvLmAgOiAoMCwgX3V0aWxzLmZvcm1hdE11aUVycm9yTWVzc2FnZSkoMTcpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybUNvbnRyb2xDb250ZXh0ID09IG51bGwgfHwgKF9mb3JtQ29udHJvbENvbnRleHQkbzIgPSBmb3JtQ29udHJvbENvbnRleHQub25DaGFuZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfZm9ybUNvbnRyb2xDb250ZXh0JG8yLmNhbGwoZm9ybUNvbnRyb2xDb250ZXh0LCBldmVudCk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgKF9vdGhlckhhbmRsZXJzJG9uQ2hhbiA9IG90aGVySGFuZGxlcnMub25DaGFuZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfb3RoZXJIYW5kbGVycyRvbkNoYW4uY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCwgLi4uYXJncyk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uQ2xpYztcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCAmJiBldmVudC5jdXJyZW50VGFyZ2V0ID09PSBldmVudC50YXJnZXQpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG4gICAgKF9vdGhlckhhbmRsZXJzJG9uQ2xpYyA9IG90aGVySGFuZGxlcnMub25DbGljaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdGhlckhhbmRsZXJzJG9uQ2xpYy5jYWxsKG90aGVySGFuZGxlcnMsIGV2ZW50KTtcbiAgfTtcbiAgY29uc3QgZ2V0Um9vdFByb3BzID0gKGV4dGVybmFsUHJvcHMgPSB7fSkgPT4ge1xuICAgIC8vIG9uQmx1ciwgb25DaGFuZ2UgYW5kIG9uRm9jdXMgYXJlIGZvcndhcmRlZCB0byB0aGUgaW5wdXQgc2xvdC5cbiAgICBjb25zdCBwcm9wc0V2ZW50SGFuZGxlcnMgPSAoMCwgX2V4dHJhY3RFdmVudEhhbmRsZXJzLmV4dHJhY3RFdmVudEhhbmRsZXJzKShwYXJhbWV0ZXJzLCBbJ29uQmx1cicsICdvbkNoYW5nZScsICdvbkZvY3VzJ10pO1xuICAgIGNvbnN0IGV4dGVybmFsRXZlbnRIYW5kbGVycyA9ICgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoe30sIHByb3BzRXZlbnRIYW5kbGVycywgKDAsIF9leHRyYWN0RXZlbnRIYW5kbGVycy5leHRyYWN0RXZlbnRIYW5kbGVycykoZXh0ZXJuYWxQcm9wcykpO1xuICAgIHJldHVybiAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHt9LCBleHRlcm5hbFByb3BzLCBleHRlcm5hbEV2ZW50SGFuZGxlcnMsIHtcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrKGV4dGVybmFsRXZlbnRIYW5kbGVycylcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZ2V0SW5wdXRQcm9wcyA9IChleHRlcm5hbFByb3BzID0ge30pID0+IHtcbiAgICBjb25zdCBwcm9wc0V2ZW50SGFuZGxlcnMgPSB7XG4gICAgICBvbkJsdXIsXG4gICAgICBvbkNoYW5nZSxcbiAgICAgIG9uRm9jdXNcbiAgICB9O1xuICAgIGNvbnN0IGV4dGVybmFsRXZlbnRIYW5kbGVycyA9ICgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoe30sIHByb3BzRXZlbnRIYW5kbGVycywgKDAsIF9leHRyYWN0RXZlbnRIYW5kbGVycy5leHRyYWN0RXZlbnRIYW5kbGVycykoZXh0ZXJuYWxQcm9wcykpO1xuICAgIGNvbnN0IG1lcmdlZEV2ZW50SGFuZGxlcnMgPSAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHt9LCBleHRlcm5hbFByb3BzLCBleHRlcm5hbEV2ZW50SGFuZGxlcnMsIHtcbiAgICAgIG9uQmx1cjogaGFuZGxlQmx1cihleHRlcm5hbEV2ZW50SGFuZGxlcnMpLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZShleHRlcm5hbEV2ZW50SGFuZGxlcnMpLFxuICAgICAgb25Gb2N1czogaGFuZGxlRm9jdXMoZXh0ZXJuYWxFdmVudEhhbmRsZXJzKVxuICAgIH0pO1xuICAgIHJldHVybiAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHt9LCBtZXJnZWRFdmVudEhhbmRsZXJzLCB7XG4gICAgICAnYXJpYS1pbnZhbGlkJzogZXJyb3IgfHwgdW5kZWZpbmVkLFxuICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgICByZWY6IGhhbmRsZUlucHV0UmVmLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgcmVxdWlyZWQsXG4gICAgICBkaXNhYmxlZFxuICAgIH0pO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGRpc2FibGVkLFxuICAgIGVycm9yLFxuICAgIGZvY3VzZWQsXG4gICAgZm9ybUNvbnRyb2xDb250ZXh0LFxuICAgIGdldElucHV0UHJvcHMsXG4gICAgZ2V0Um9vdFByb3BzLFxuICAgIGlucHV0UmVmOiBoYW5kbGVJbnB1dFJlZixcbiAgICByZXF1aXJlZCxcbiAgICB2YWx1ZVxuICB9O1xufSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTtBQUNa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