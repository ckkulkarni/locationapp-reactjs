ac63329462436f9c3b1beed6ae072e12
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MapContainer = void 0;
var _core = require("@react-leaflet/core");
var _leaflet = require("leaflet");
var _react = _interopRequireWildcard(require("react"));
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function MapContainerComponent({
  bounds,
  boundsOptions,
  center,
  children,
  className,
  id,
  placeholder,
  style,
  whenReady,
  zoom,
  ...options
}, forwardedRef) {
  const [props] = (0, _react.useState)({
    className,
    id,
    style
  });
  const [context, setContext] = (0, _react.useState)(null);
  (0, _react.useImperativeHandle)(forwardedRef, () => context?.map ?? null, [context]);
  const mapRef = (0, _react.useCallback)(node => {
    if (node !== null && context === null) {
      const map = new _leaflet.Map(node, options);
      if (center != null && zoom != null) {
        map.setView(center, zoom);
      } else if (bounds != null) {
        map.fitBounds(bounds, boundsOptions);
      }
      if (whenReady != null) {
        map.whenReady(whenReady);
      }
      setContext((0, _core.createLeafletContext)(map));
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);
  (0, _react.useEffect)(() => {
    return () => {
      context?.map.remove();
    };
  }, [context]);
  const contents = context ? /*#__PURE__*/_react.default.createElement(_core.LeafletProvider, {
    value: context
  }, children) : placeholder ?? null;
  return /*#__PURE__*/_react.default.createElement("div", _extends({}, props, {
    ref: mapRef
  }), contents);
}
const MapContainer = /*#__PURE__*/(0, _react.forwardRef)(MapContainerComponent);
exports.MapContainer = MapContainer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29yZSIsInJlcXVpcmUiLCJfbGVhZmxldCIsIl9yZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIl9leHRlbmRzIiwiYXNzaWduIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImFwcGx5IiwiTWFwQ29udGFpbmVyQ29tcG9uZW50IiwiYm91bmRzIiwiYm91bmRzT3B0aW9ucyIsImNlbnRlciIsImNoaWxkcmVuIiwiY2xhc3NOYW1lIiwiaWQiLCJwbGFjZWhvbGRlciIsInN0eWxlIiwid2hlblJlYWR5Iiwiem9vbSIsIm9wdGlvbnMiLCJmb3J3YXJkZWRSZWYiLCJwcm9wcyIsInVzZVN0YXRlIiwiY29udGV4dCIsInNldENvbnRleHQiLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwibWFwIiwibWFwUmVmIiwidXNlQ2FsbGJhY2siLCJub2RlIiwiTGVhZmxldE1hcCIsInNldFZpZXciLCJmaXRCb3VuZHMiLCJjcmVhdGVMZWFmbGV0Q29udGV4dCIsInVzZUVmZmVjdCIsInJlbW92ZSIsImNvbnRlbnRzIiwiUmVhY3QiLCJjcmVhdGVFbGVtZW50IiwiTGVhZmxldFByb3ZpZGVyIiwidmFsdWUiLCJyZWYiLCJNYXBDb250YWluZXIiLCJmb3J3YXJkUmVmIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIk1hcENvbnRhaW5lci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIHNvdXJjZSl7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuaW1wb3J0IHsgTGVhZmxldFByb3ZpZGVyLCBjcmVhdGVMZWFmbGV0Q29udGV4dCB9IGZyb20gJ0ByZWFjdC1sZWFmbGV0L2NvcmUnO1xuaW1wb3J0IHsgTWFwIGFzIExlYWZsZXRNYXAgfSBmcm9tICdsZWFmbGV0JztcbmltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VJbXBlcmF0aXZlSGFuZGxlLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmZ1bmN0aW9uIE1hcENvbnRhaW5lckNvbXBvbmVudCh7IGJvdW5kcyAsIGJvdW5kc09wdGlvbnMgLCBjZW50ZXIgLCBjaGlsZHJlbiAsIGNsYXNzTmFtZSAsIGlkICwgcGxhY2Vob2xkZXIgLCBzdHlsZSAsIHdoZW5SZWFkeSAsIHpvb20gLCAuLi5vcHRpb25zIH0sIGZvcndhcmRlZFJlZikge1xuICAgIGNvbnN0IFtwcm9wc10gPSB1c2VTdGF0ZSh7XG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgaWQsXG4gICAgICAgIHN0eWxlXG4gICAgfSk7XG4gICAgY29uc3QgW2NvbnRleHQsIHNldENvbnRleHRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShmb3J3YXJkZWRSZWYsICgpPT5jb250ZXh0Py5tYXAgPz8gbnVsbCwgW1xuICAgICAgICBjb250ZXh0XG4gICAgXSk7XG4gICAgY29uc3QgbWFwUmVmID0gdXNlQ2FsbGJhY2soKG5vZGUpPT57XG4gICAgICAgIGlmIChub2RlICE9PSBudWxsICYmIGNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcCA9IG5ldyBMZWFmbGV0TWFwKG5vZGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKGNlbnRlciAhPSBudWxsICYmIHpvb20gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1hcC5zZXRWaWV3KGNlbnRlciwgem9vbSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhib3VuZHMsIGJvdW5kc09wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdoZW5SZWFkeSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbWFwLndoZW5SZWFkeSh3aGVuUmVhZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q29udGV4dChjcmVhdGVMZWFmbGV0Q29udGV4dChtYXApKTtcbiAgICAgICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KCgpPT57XG4gICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgY29udGV4dD8ubWFwLnJlbW92ZSgpO1xuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgY29udGV4dFxuICAgIF0pO1xuICAgIGNvbnN0IGNvbnRlbnRzID0gY29udGV4dCA/IC8qI19fUFVSRV9fKi8gUmVhY3QuY3JlYXRlRWxlbWVudChMZWFmbGV0UHJvdmlkZXIsIHtcbiAgICAgICAgdmFsdWU6IGNvbnRleHRcbiAgICB9LCBjaGlsZHJlbikgOiBwbGFjZWhvbGRlciA/PyBudWxsO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIHJlZjogbWFwUmVmXG4gICAgfSksIGNvbnRlbnRzKTtcbn1cbmV4cG9ydCBjb25zdCBNYXBDb250YWluZXIgPSAvKiNfX1BVUkVfXyovIGZvcndhcmRSZWYoTWFwQ29udGFpbmVyQ29tcG9uZW50KTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBY0EsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBQyx1QkFBQSxDQUFBSCxPQUFBO0FBQWlHLFNBQUFJLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFGLHdCQUFBTSxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxTQUFBTSxNQUFB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