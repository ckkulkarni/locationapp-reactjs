fa9b8e8d5b7966b78bba2ddd82910a5f
"use strict";
'use client';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useButton = useButton;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var React = _interopRequireWildcard(require("react"));
var _utils = require("@mui/utils");
var _extractEventHandlers = require("../utils/extractEventHandlers");
function _getRequireWildcardCache(nodeInterop) {
  if (typeof WeakMap !== "function") return null;
  var cacheBabelInterop = new WeakMap();
  var cacheNodeInterop = new WeakMap();
  return (_getRequireWildcardCache = function (nodeInterop) {
    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
  })(nodeInterop);
}
function _interopRequireWildcard(obj, nodeInterop) {
  if (!nodeInterop && obj && obj.__esModule) {
    return obj;
  }
  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }
  var cache = _getRequireWildcardCache(nodeInterop);
  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }
  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var key in obj) {
    if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }
  newObj.default = obj;
  if (cache) {
    cache.set(obj, newObj);
  }
  return newObj;
}
/**
 *
 * Demos:
 *
 * - [Button](https://mui.com/base-ui/react-button/#hook)
 *
 * API:
 *
 * - [useButton API](https://mui.com/base-ui/react-button/hooks-api/#use-button)
 */
function useButton(parameters = {}) {
  const {
    disabled = false,
    focusableWhenDisabled,
    href,
    rootRef: externalRef,
    tabIndex,
    to,
    type
  } = parameters;
  const buttonRef = React.useRef();
  const [active, setActive] = React.useState(false);
  const {
    isFocusVisibleRef,
    onFocus: handleFocusVisible,
    onBlur: handleBlurVisible,
    ref: focusVisibleRef
  } = (0, _utils.unstable_useIsFocusVisible)();
  const [focusVisible, setFocusVisible] = React.useState(false);
  if (disabled && !focusableWhenDisabled && focusVisible) {
    setFocusVisible(false);
  }
  React.useEffect(() => {
    isFocusVisibleRef.current = focusVisible;
  }, [focusVisible, isFocusVisibleRef]);
  const [hostElementName, setHostElementName] = React.useState('');
  const createHandleMouseLeave = otherHandlers => event => {
    var _otherHandlers$onMous;
    if (focusVisible) {
      event.preventDefault();
    }
    (_otherHandlers$onMous = otherHandlers.onMouseLeave) == null ? void 0 : _otherHandlers$onMous.call(otherHandlers, event);
  };
  const createHandleBlur = otherHandlers => event => {
    var _otherHandlers$onBlur;
    handleBlurVisible(event);
    if (isFocusVisibleRef.current === false) {
      setFocusVisible(false);
    }
    (_otherHandlers$onBlur = otherHandlers.onBlur) == null ? void 0 : _otherHandlers$onBlur.call(otherHandlers, event);
  };
  const createHandleFocus = otherHandlers => event => {
    var _otherHandlers$onFocu2;
    // Fix for https://github.com/facebook/react/issues/7769
    if (!buttonRef.current) {
      buttonRef.current = event.currentTarget;
    }
    handleFocusVisible(event);
    if (isFocusVisibleRef.current === true) {
      var _otherHandlers$onFocu;
      setFocusVisible(true);
      (_otherHandlers$onFocu = otherHandlers.onFocusVisible) == null ? void 0 : _otherHandlers$onFocu.call(otherHandlers, event);
    }
    (_otherHandlers$onFocu2 = otherHandlers.onFocus) == null ? void 0 : _otherHandlers$onFocu2.call(otherHandlers, event);
  };
  const isNativeButton = () => {
    const button = buttonRef.current;
    return hostElementName === 'BUTTON' || hostElementName === 'INPUT' && ['button', 'submit', 'reset'].includes(button == null ? void 0 : button.type) || hostElementName === 'A' && (button == null ? void 0 : button.href);
  };
  const createHandleClick = otherHandlers => event => {
    if (!disabled) {
      var _otherHandlers$onClic;
      (_otherHandlers$onClic = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic.call(otherHandlers, event);
    }
  };
  const createHandleMouseDown = otherHandlers => event => {
    var _otherHandlers$onMous2;
    if (!disabled) {
      setActive(true);
      document.addEventListener('mouseup', () => {
        setActive(false);
      }, {
        once: true
      });
    }
    (_otherHandlers$onMous2 = otherHandlers.onMouseDown) == null ? void 0 : _otherHandlers$onMous2.call(otherHandlers, event);
  };
  const createHandleKeyDown = otherHandlers => event => {
    var _otherHandlers$onKeyD;
    (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null ? void 0 : _otherHandlers$onKeyD.call(otherHandlers, event);
    if (event.defaultMuiPrevented) {
      return;
    }
    if (event.target === event.currentTarget && !isNativeButton() && event.key === ' ') {
      event.preventDefault();
    }
    if (event.target === event.currentTarget && event.key === ' ' && !disabled) {
      setActive(true);
    }

    // Keyboard accessibility for non interactive elements
    if (event.target === event.currentTarget && !isNativeButton() && event.key === 'Enter' && !disabled) {
      var _otherHandlers$onClic2;
      (_otherHandlers$onClic2 = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic2.call(otherHandlers, event);
      event.preventDefault();
    }
  };
  const createHandleKeyUp = otherHandlers => event => {
    var _otherHandlers$onKeyU;
    // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed
    // https://codesandbox.io/s/button-keyup-preventdefault-dn7f0

    if (event.target === event.currentTarget) {
      setActive(false);
    }
    (_otherHandlers$onKeyU = otherHandlers.onKeyUp) == null ? void 0 : _otherHandlers$onKeyU.call(otherHandlers, event);

    // Keyboard accessibility for non interactive elements
    if (event.target === event.currentTarget && !isNativeButton() && !disabled && event.key === ' ' && !event.defaultMuiPrevented) {
      var _otherHandlers$onClic3;
      (_otherHandlers$onClic3 = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic3.call(otherHandlers, event);
    }
  };
  const updateHostElementName = React.useCallback(instance => {
    var _instance$tagName;
    setHostElementName((_instance$tagName = instance == null ? void 0 : instance.tagName) != null ? _instance$tagName : '');
  }, []);
  const handleRef = (0, _utils.unstable_useForkRef)(updateHostElementName, externalRef, focusVisibleRef, buttonRef);
  const buttonProps = {};
  if (hostElementName === 'BUTTON') {
    buttonProps.type = type != null ? type : 'button';
    if (focusableWhenDisabled) {
      buttonProps['aria-disabled'] = disabled;
    } else {
      buttonProps.disabled = disabled;
    }
  } else if (hostElementName !== '') {
    if (!href && !to) {
      buttonProps.role = 'button';
      buttonProps.tabIndex = tabIndex != null ? tabIndex : 0;
    }
    if (disabled) {
      buttonProps['aria-disabled'] = disabled;
      buttonProps.tabIndex = focusableWhenDisabled ? tabIndex != null ? tabIndex : 0 : -1;
    }
  }
  const getRootProps = (otherHandlers = {}) => {
    const propsEventHandlers = (0, _extractEventHandlers.extractEventHandlers)(parameters);
    const externalEventHandlers = (0, _extends2.default)({}, propsEventHandlers, otherHandlers);

    // onFocusVisible can be present on the props, but since it's not a valid React event handler,
    // it must not be forwarded to the inner component.
    delete externalEventHandlers.onFocusVisible;
    return (0, _extends2.default)({
      type
    }, externalEventHandlers, buttonProps, {
      onBlur: createHandleBlur(externalEventHandlers),
      onClick: createHandleClick(externalEventHandlers),
      onFocus: createHandleFocus(externalEventHandlers),
      onKeyDown: createHandleKeyDown(externalEventHandlers),
      onKeyUp: createHandleKeyUp(externalEventHandlers),
      onMouseDown: createHandleMouseDown(externalEventHandlers),
      onMouseLeave: createHandleMouseLeave(externalEventHandlers),
      ref: handleRef
    });
  };
  return {
    getRootProps,
    focusVisible,
    setFocusVisible,
    active,
    rootRef: handleRef
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidXNlQnV0dG9uIiwiX2V4dGVuZHMyIiwiUmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl91dGlscyIsIl9leHRyYWN0RXZlbnRIYW5kbGVycyIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwicGFyYW1ldGVycyIsImRpc2FibGVkIiwiZm9jdXNhYmxlV2hlbkRpc2FibGVkIiwiaHJlZiIsInJvb3RSZWYiLCJleHRlcm5hbFJlZiIsInRhYkluZGV4IiwidG8iLCJ0eXBlIiwiYnV0dG9uUmVmIiwidXNlUmVmIiwiYWN0aXZlIiwic2V0QWN0aXZlIiwidXNlU3RhdGUiLCJpc0ZvY3VzVmlzaWJsZVJlZiIsIm9uRm9jdXMiLCJoYW5kbGVGb2N1c1Zpc2libGUiLCJvbkJsdXIiLCJoYW5kbGVCbHVyVmlzaWJsZSIsInJlZiIsImZvY3VzVmlzaWJsZVJlZiIsInVuc3RhYmxlX3VzZUlzRm9jdXNWaXNpYmxlIiwiZm9jdXNWaXNpYmxlIiwic2V0Rm9jdXNWaXNpYmxlIiwidXNlRWZmZWN0IiwiY3VycmVudCIsImhvc3RFbGVtZW50TmFtZSIsInNldEhvc3RFbGVtZW50TmFtZSIsImNyZWF0ZUhhbmRsZU1vdXNlTGVhdmUiLCJvdGhlckhhbmRsZXJzIiwiZXZlbnQiLCJfb3RoZXJIYW5kbGVycyRvbk1vdXMiLCJwcmV2ZW50RGVmYXVsdCIsIm9uTW91c2VMZWF2ZSIsImNyZWF0ZUhhbmRsZUJsdXIiLCJfb3RoZXJIYW5kbGVycyRvbkJsdXIiLCJjcmVhdGVIYW5kbGVGb2N1cyIsIl9vdGhlckhhbmRsZXJzJG9uRm9jdTIiLCJjdXJyZW50VGFyZ2V0IiwiX290aGVySGFuZGxlcnMkb25Gb2N1Iiwib25Gb2N1c1Zpc2libGUiLCJpc05hdGl2ZUJ1dHRvbiIsImJ1dHRvbiIsImluY2x1ZGVzIiwiY3JlYXRlSGFuZGxlQ2xpY2siLCJfb3RoZXJIYW5kbGVycyRvbkNsaWMiLCJvbkNsaWNrIiwiY3JlYXRlSGFuZGxlTW91c2VEb3duIiwiX290aGVySGFuZGxlcnMkb25Nb3VzMiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJvbk1vdXNlRG93biIsImNyZWF0ZUhhbmRsZUtleURvd24iLCJfb3RoZXJIYW5kbGVycyRvbktleUQiLCJvbktleURvd24iLCJkZWZhdWx0TXVpUHJldmVudGVkIiwidGFyZ2V0IiwiX290aGVySGFuZGxlcnMkb25DbGljMiIsImNyZWF0ZUhhbmRsZUtleVVwIiwiX290aGVySGFuZGxlcnMkb25LZXlVIiwib25LZXlVcCIsIl9vdGhlckhhbmRsZXJzJG9uQ2xpYzMiLCJ1cGRhdGVIb3N0RWxlbWVudE5hbWUiLCJ1c2VDYWxsYmFjayIsImluc3RhbmNlIiwiX2luc3RhbmNlJHRhZ05hbWUiLCJ0YWdOYW1lIiwiaGFuZGxlUmVmIiwidW5zdGFibGVfdXNlRm9ya1JlZiIsImJ1dHRvblByb3BzIiwicm9sZSIsImdldFJvb3RQcm9wcyIsInByb3BzRXZlbnRIYW5kbGVycyIsImV4dHJhY3RFdmVudEhhbmRsZXJzIiwiZXh0ZXJuYWxFdmVudEhhbmRsZXJzIl0sInNvdXJjZXMiOlsidXNlQnV0dG9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuJ3VzZSBjbGllbnQnO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnVzZUJ1dHRvbiA9IHVzZUJ1dHRvbjtcbnZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiQG11aS91dGlsc1wiKTtcbnZhciBfZXh0cmFjdEV2ZW50SGFuZGxlcnMgPSByZXF1aXJlKFwiLi4vdXRpbHMvZXh0cmFjdEV2ZW50SGFuZGxlcnNcIik7XG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUobm9kZUludGVyb3ApIHsgaWYgKHR5cGVvZiBXZWFrTWFwICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBudWxsOyB2YXIgY2FjaGVCYWJlbEludGVyb3AgPSBuZXcgV2Vha01hcCgpOyB2YXIgY2FjaGVOb2RlSW50ZXJvcCA9IG5ldyBXZWFrTWFwKCk7IHJldHVybiAoX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24gKG5vZGVJbnRlcm9wKSB7IHJldHVybiBub2RlSW50ZXJvcCA/IGNhY2hlTm9kZUludGVyb3AgOiBjYWNoZUJhYmVsSW50ZXJvcDsgfSkobm9kZUludGVyb3ApOyB9XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmosIG5vZGVJbnRlcm9wKSB7IGlmICghbm9kZUludGVyb3AgJiYgb2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIikgeyByZXR1cm4geyBkZWZhdWx0OiBvYmogfTsgfSB2YXIgY2FjaGUgPSBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUobm9kZUludGVyb3ApOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChrZXkgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH1cbi8qKlxuICpcbiAqIERlbW9zOlxuICpcbiAqIC0gW0J1dHRvbl0oaHR0cHM6Ly9tdWkuY29tL2Jhc2UtdWkvcmVhY3QtYnV0dG9uLyNob29rKVxuICpcbiAqIEFQSTpcbiAqXG4gKiAtIFt1c2VCdXR0b24gQVBJXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1idXR0b24vaG9va3MtYXBpLyN1c2UtYnV0dG9uKVxuICovXG5mdW5jdGlvbiB1c2VCdXR0b24ocGFyYW1ldGVycyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgIGZvY3VzYWJsZVdoZW5EaXNhYmxlZCxcbiAgICBocmVmLFxuICAgIHJvb3RSZWY6IGV4dGVybmFsUmVmLFxuICAgIHRhYkluZGV4LFxuICAgIHRvLFxuICAgIHR5cGVcbiAgfSA9IHBhcmFtZXRlcnM7XG4gIGNvbnN0IGJ1dHRvblJlZiA9IFJlYWN0LnVzZVJlZigpO1xuICBjb25zdCBbYWN0aXZlLCBzZXRBY3RpdmVdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7XG4gICAgaXNGb2N1c1Zpc2libGVSZWYsXG4gICAgb25Gb2N1czogaGFuZGxlRm9jdXNWaXNpYmxlLFxuICAgIG9uQmx1cjogaGFuZGxlQmx1clZpc2libGUsXG4gICAgcmVmOiBmb2N1c1Zpc2libGVSZWZcbiAgfSA9ICgwLCBfdXRpbHMudW5zdGFibGVfdXNlSXNGb2N1c1Zpc2libGUpKCk7XG4gIGNvbnN0IFtmb2N1c1Zpc2libGUsIHNldEZvY3VzVmlzaWJsZV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGlmIChkaXNhYmxlZCAmJiAhZm9jdXNhYmxlV2hlbkRpc2FibGVkICYmIGZvY3VzVmlzaWJsZSkge1xuICAgIHNldEZvY3VzVmlzaWJsZShmYWxzZSk7XG4gIH1cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpc0ZvY3VzVmlzaWJsZVJlZi5jdXJyZW50ID0gZm9jdXNWaXNpYmxlO1xuICB9LCBbZm9jdXNWaXNpYmxlLCBpc0ZvY3VzVmlzaWJsZVJlZl0pO1xuICBjb25zdCBbaG9zdEVsZW1lbnROYW1lLCBzZXRIb3N0RWxlbWVudE5hbWVdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICBjb25zdCBjcmVhdGVIYW5kbGVNb3VzZUxlYXZlID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uTW91cztcbiAgICBpZiAoZm9jdXNWaXNpYmxlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICAoX290aGVySGFuZGxlcnMkb25Nb3VzID0gb3RoZXJIYW5kbGVycy5vbk1vdXNlTGVhdmUpID09IG51bGwgPyB2b2lkIDAgOiBfb3RoZXJIYW5kbGVycyRvbk1vdXMuY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUJsdXIgPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25CbHVyO1xuICAgIGhhbmRsZUJsdXJWaXNpYmxlKGV2ZW50KTtcbiAgICBpZiAoaXNGb2N1c1Zpc2libGVSZWYuY3VycmVudCA9PT0gZmFsc2UpIHtcbiAgICAgIHNldEZvY3VzVmlzaWJsZShmYWxzZSk7XG4gICAgfVxuICAgIChfb3RoZXJIYW5kbGVycyRvbkJsdXIgPSBvdGhlckhhbmRsZXJzLm9uQmx1cikgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdGhlckhhbmRsZXJzJG9uQmx1ci5jYWxsKG90aGVySGFuZGxlcnMsIGV2ZW50KTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlSGFuZGxlRm9jdXMgPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25Gb2N1MjtcbiAgICAvLyBGaXggZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNzc2OVxuICAgIGlmICghYnV0dG9uUmVmLmN1cnJlbnQpIHtcbiAgICAgIGJ1dHRvblJlZi5jdXJyZW50ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICB9XG4gICAgaGFuZGxlRm9jdXNWaXNpYmxlKGV2ZW50KTtcbiAgICBpZiAoaXNGb2N1c1Zpc2libGVSZWYuY3VycmVudCA9PT0gdHJ1ZSkge1xuICAgICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uRm9jdTtcbiAgICAgIHNldEZvY3VzVmlzaWJsZSh0cnVlKTtcbiAgICAgIChfb3RoZXJIYW5kbGVycyRvbkZvY3UgPSBvdGhlckhhbmRsZXJzLm9uRm9jdXNWaXNpYmxlKSA9PSBudWxsID8gdm9pZCAwIDogX290aGVySGFuZGxlcnMkb25Gb2N1LmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICAgIH1cbiAgICAoX290aGVySGFuZGxlcnMkb25Gb2N1MiA9IG90aGVySGFuZGxlcnMub25Gb2N1cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdGhlckhhbmRsZXJzJG9uRm9jdTIuY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG4gIH07XG4gIGNvbnN0IGlzTmF0aXZlQnV0dG9uID0gKCkgPT4ge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGJ1dHRvblJlZi5jdXJyZW50O1xuICAgIHJldHVybiBob3N0RWxlbWVudE5hbWUgPT09ICdCVVRUT04nIHx8IGhvc3RFbGVtZW50TmFtZSA9PT0gJ0lOUFVUJyAmJiBbJ2J1dHRvbicsICdzdWJtaXQnLCAncmVzZXQnXS5pbmNsdWRlcyhidXR0b24gPT0gbnVsbCA/IHZvaWQgMCA6IGJ1dHRvbi50eXBlKSB8fCBob3N0RWxlbWVudE5hbWUgPT09ICdBJyAmJiAoYnV0dG9uID09IG51bGwgPyB2b2lkIDAgOiBidXR0b24uaHJlZik7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUNsaWNrID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uQ2xpYztcbiAgICAgIChfb3RoZXJIYW5kbGVycyRvbkNsaWMgPSBvdGhlckhhbmRsZXJzLm9uQ2xpY2spID09IG51bGwgPyB2b2lkIDAgOiBfb3RoZXJIYW5kbGVycyRvbkNsaWMuY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjcmVhdGVIYW5kbGVNb3VzZURvd24gPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25Nb3VzMjtcbiAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICBzZXRBY3RpdmUodHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmUoZmFsc2UpO1xuICAgICAgfSwge1xuICAgICAgICBvbmNlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgKF9vdGhlckhhbmRsZXJzJG9uTW91czIgPSBvdGhlckhhbmRsZXJzLm9uTW91c2VEb3duKSA9PSBudWxsID8gdm9pZCAwIDogX290aGVySGFuZGxlcnMkb25Nb3VzMi5jYWxsKG90aGVySGFuZGxlcnMsIGV2ZW50KTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlSGFuZGxlS2V5RG93biA9IG90aGVySGFuZGxlcnMgPT4gZXZlbnQgPT4ge1xuICAgIHZhciBfb3RoZXJIYW5kbGVycyRvbktleUQ7XG4gICAgKF9vdGhlckhhbmRsZXJzJG9uS2V5RCA9IG90aGVySGFuZGxlcnMub25LZXlEb3duKSA9PSBudWxsID8gdm9pZCAwIDogX290aGVySGFuZGxlcnMkb25LZXlELmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICAgIGlmIChldmVudC5kZWZhdWx0TXVpUHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQgJiYgIWlzTmF0aXZlQnV0dG9uKCkgJiYgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQgJiYgZXZlbnQua2V5ID09PSAnICcgJiYgIWRpc2FibGVkKSB7XG4gICAgICBzZXRBY3RpdmUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gS2V5Ym9hcmQgYWNjZXNzaWJpbGl0eSBmb3Igbm9uIGludGVyYWN0aXZlIGVsZW1lbnRzXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCAmJiAhaXNOYXRpdmVCdXR0b24oKSAmJiBldmVudC5rZXkgPT09ICdFbnRlcicgJiYgIWRpc2FibGVkKSB7XG4gICAgICB2YXIgX290aGVySGFuZGxlcnMkb25DbGljMjtcbiAgICAgIChfb3RoZXJIYW5kbGVycyRvbkNsaWMyID0gb3RoZXJIYW5kbGVycy5vbkNsaWNrKSA9PSBudWxsID8gdm9pZCAwIDogX290aGVySGFuZGxlcnMkb25DbGljMi5jYWxsKG90aGVySGFuZGxlcnMsIGV2ZW50KTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjcmVhdGVIYW5kbGVLZXlVcCA9IG90aGVySGFuZGxlcnMgPT4gZXZlbnQgPT4ge1xuICAgIHZhciBfb3RoZXJIYW5kbGVycyRvbktleVU7XG4gICAgLy8gY2FsbGluZyBwcmV2ZW50RGVmYXVsdCBpbiBrZXlVcCBvbiBhIDxidXR0b24+IHdpbGwgbm90IGRpc3BhdGNoIGEgY2xpY2sgZXZlbnQgaWYgU3BhY2UgaXMgcHJlc3NlZFxuICAgIC8vIGh0dHBzOi8vY29kZXNhbmRib3guaW8vcy9idXR0b24ta2V5dXAtcHJldmVudGRlZmF1bHQtZG43ZjBcblxuICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHNldEFjdGl2ZShmYWxzZSk7XG4gICAgfVxuICAgIChfb3RoZXJIYW5kbGVycyRvbktleVUgPSBvdGhlckhhbmRsZXJzLm9uS2V5VXApID09IG51bGwgPyB2b2lkIDAgOiBfb3RoZXJIYW5kbGVycyRvbktleVUuY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG5cbiAgICAvLyBLZXlib2FyZCBhY2Nlc3NpYmlsaXR5IGZvciBub24gaW50ZXJhY3RpdmUgZWxlbWVudHNcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBldmVudC5jdXJyZW50VGFyZ2V0ICYmICFpc05hdGl2ZUJ1dHRvbigpICYmICFkaXNhYmxlZCAmJiBldmVudC5rZXkgPT09ICcgJyAmJiAhZXZlbnQuZGVmYXVsdE11aVByZXZlbnRlZCkge1xuICAgICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uQ2xpYzM7XG4gICAgICAoX290aGVySGFuZGxlcnMkb25DbGljMyA9IG90aGVySGFuZGxlcnMub25DbGljaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdGhlckhhbmRsZXJzJG9uQ2xpYzMuY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1cGRhdGVIb3N0RWxlbWVudE5hbWUgPSBSZWFjdC51c2VDYWxsYmFjayhpbnN0YW5jZSA9PiB7XG4gICAgdmFyIF9pbnN0YW5jZSR0YWdOYW1lO1xuICAgIHNldEhvc3RFbGVtZW50TmFtZSgoX2luc3RhbmNlJHRhZ05hbWUgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UudGFnTmFtZSkgIT0gbnVsbCA/IF9pbnN0YW5jZSR0YWdOYW1lIDogJycpO1xuICB9LCBbXSk7XG4gIGNvbnN0IGhhbmRsZVJlZiA9ICgwLCBfdXRpbHMudW5zdGFibGVfdXNlRm9ya1JlZikodXBkYXRlSG9zdEVsZW1lbnROYW1lLCBleHRlcm5hbFJlZiwgZm9jdXNWaXNpYmxlUmVmLCBidXR0b25SZWYpO1xuICBjb25zdCBidXR0b25Qcm9wcyA9IHt9O1xuICBpZiAoaG9zdEVsZW1lbnROYW1lID09PSAnQlVUVE9OJykge1xuICAgIGJ1dHRvblByb3BzLnR5cGUgPSB0eXBlICE9IG51bGwgPyB0eXBlIDogJ2J1dHRvbic7XG4gICAgaWYgKGZvY3VzYWJsZVdoZW5EaXNhYmxlZCkge1xuICAgICAgYnV0dG9uUHJvcHNbJ2FyaWEtZGlzYWJsZWQnXSA9IGRpc2FibGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b25Qcm9wcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cbiAgfSBlbHNlIGlmIChob3N0RWxlbWVudE5hbWUgIT09ICcnKSB7XG4gICAgaWYgKCFocmVmICYmICF0bykge1xuICAgICAgYnV0dG9uUHJvcHMucm9sZSA9ICdidXR0b24nO1xuICAgICAgYnV0dG9uUHJvcHMudGFiSW5kZXggPSB0YWJJbmRleCAhPSBudWxsID8gdGFiSW5kZXggOiAwO1xuICAgIH1cbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIGJ1dHRvblByb3BzWydhcmlhLWRpc2FibGVkJ10gPSBkaXNhYmxlZDtcbiAgICAgIGJ1dHRvblByb3BzLnRhYkluZGV4ID0gZm9jdXNhYmxlV2hlbkRpc2FibGVkID8gdGFiSW5kZXggIT0gbnVsbCA/IHRhYkluZGV4IDogMCA6IC0xO1xuICAgIH1cbiAgfVxuICBjb25zdCBnZXRSb290UHJvcHMgPSAob3RoZXJIYW5kbGVycyA9IHt9KSA9PiB7XG4gICAgY29uc3QgcHJvcHNFdmVudEhhbmRsZXJzID0gKDAsIF9leHRyYWN0RXZlbnRIYW5kbGVycy5leHRyYWN0RXZlbnRIYW5kbGVycykocGFyYW1ldGVycyk7XG4gICAgY29uc3QgZXh0ZXJuYWxFdmVudEhhbmRsZXJzID0gKDAsIF9leHRlbmRzMi5kZWZhdWx0KSh7fSwgcHJvcHNFdmVudEhhbmRsZXJzLCBvdGhlckhhbmRsZXJzKTtcblxuICAgIC8vIG9uRm9jdXNWaXNpYmxlIGNhbiBiZSBwcmVzZW50IG9uIHRoZSBwcm9wcywgYnV0IHNpbmNlIGl0J3Mgbm90IGEgdmFsaWQgUmVhY3QgZXZlbnQgaGFuZGxlcixcbiAgICAvLyBpdCBtdXN0IG5vdCBiZSBmb3J3YXJkZWQgdG8gdGhlIGlubmVyIGNvbXBvbmVudC5cbiAgICBkZWxldGUgZXh0ZXJuYWxFdmVudEhhbmRsZXJzLm9uRm9jdXNWaXNpYmxlO1xuICAgIHJldHVybiAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHtcbiAgICAgIHR5cGVcbiAgICB9LCBleHRlcm5hbEV2ZW50SGFuZGxlcnMsIGJ1dHRvblByb3BzLCB7XG4gICAgICBvbkJsdXI6IGNyZWF0ZUhhbmRsZUJsdXIoZXh0ZXJuYWxFdmVudEhhbmRsZXJzKSxcbiAgICAgIG9uQ2xpY2s6IGNyZWF0ZUhhbmRsZUNsaWNrKGV4dGVybmFsRXZlbnRIYW5kbGVycyksXG4gICAgICBvbkZvY3VzOiBjcmVhdGVIYW5kbGVGb2N1cyhleHRlcm5hbEV2ZW50SGFuZGxlcnMpLFxuICAgICAgb25LZXlEb3duOiBjcmVhdGVIYW5kbGVLZXlEb3duKGV4dGVybmFsRXZlbnRIYW5kbGVycyksXG4gICAgICBvbktleVVwOiBjcmVhdGVIYW5kbGVLZXlVcChleHRlcm5hbEV2ZW50SGFuZGxlcnMpLFxuICAgICAgb25Nb3VzZURvd246IGNyZWF0ZUhhbmRsZU1vdXNlRG93bihleHRlcm5hbEV2ZW50SGFuZGxlcnMpLFxuICAgICAgb25Nb3VzZUxlYXZlOiBjcmVhdGVIYW5kbGVNb3VzZUxlYXZlKGV4dGVybmFsRXZlbnRIYW5kbGVycyksXG4gICAgICByZWY6IGhhbmRsZVJlZlxuICAgIH0pO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGdldFJvb3RQcm9wcyxcbiAgICBmb2N1c1Zpc2libGUsXG4gICAgc2V0Rm9jdXNWaXNpYmxlLFxuICAgIGFjdGl2ZSxcbiAgICByb290UmVmOiBoYW5kbGVSZWZcbiAgfTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7QUFDWixZQUFZOztBQUVaLElBQUlBLHNCQUFzQixHQUFHQyxPQUFPLENBQUMsOENBQThDLENBQUM7QUFDcEZDLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0VBQzNDQyxLQUFLLEVBQUU7QUFDVCxDQUFDLENBQUM7QUFDRkQsT0FBTyxDQUFDRSxTQUFTLEdBQUdBLFNBQVM7QUFDN0IsSUFBSUMsU0FBUyxHQUFHUCxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7QUFDakYsSUFBSU8sS0FBSyxHQUFHQyx1QkFBdUIsQ0FBQ1IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3JELElBQUlTLE1BQU0sR0FBR1QsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUNsQyxJQUFJVSxxQkFBcUIsR0FBR1YsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBQ3BFLFNBQVNXLHdCQUF3QkEsQ0FBQ0Ms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