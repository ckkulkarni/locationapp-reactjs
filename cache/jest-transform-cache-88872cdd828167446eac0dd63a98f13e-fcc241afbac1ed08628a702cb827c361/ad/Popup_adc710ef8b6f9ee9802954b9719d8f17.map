{"version":3,"names":["_core","require","_leaflet","_react","Popup","createOverlayComponent","createPopup","props","context","popup","LeafletPopup","overlayContainer","createElementObject","usePopupLifecycle","element","position","setOpen","useEffect","addPopup","instance","onPopupOpen","event","update","onPopupClose","map","on","popupopen","popupclose","setLatLng","openOn","bindPopup","removePopup","off","unbindPopup","removeLayer","exports"],"sources":["Popup.js"],"sourcesContent":["import { createElementObject, createOverlayComponent } from '@react-leaflet/core';\nimport { Popup as LeafletPopup } from 'leaflet';\nimport { useEffect } from 'react';\nexport const Popup = createOverlayComponent(function createPopup(props, context) {\n    const popup = new LeafletPopup(props, context.overlayContainer);\n    return createElementObject(popup, context);\n}, function usePopupLifecycle(element, context, { position  }, setOpen) {\n    useEffect(function addPopup() {\n        const { instance  } = element;\n        function onPopupOpen(event) {\n            if (event.popup === instance) {\n                instance.update();\n                setOpen(true);\n            }\n        }\n        function onPopupClose(event) {\n            if (event.popup === instance) {\n                setOpen(false);\n            }\n        }\n        context.map.on({\n            popupopen: onPopupOpen,\n            popupclose: onPopupClose\n        });\n        if (context.overlayContainer == null) {\n            // Attach to a Map\n            if (position != null) {\n                instance.setLatLng(position);\n            }\n            instance.openOn(context.map);\n        } else {\n            // Attach to container component\n            context.overlayContainer.bindPopup(instance);\n        }\n        return function removePopup() {\n            context.map.off({\n                popupopen: onPopupOpen,\n                popupclose: onPopupClose\n            });\n            context.overlayContainer?.unbindPopup();\n            context.map.removeLayer(instance);\n        };\n    }, [\n        element,\n        context,\n        setOpen,\n        position\n    ]);\n});\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AACO,MAAMG,KAAK,GAAG,IAAAC,4BAAsB,EAAC,SAASC,WAAWA,CAACC,KAAK,EAAEC,OAAO,EAAE;EAC7E,MAAMC,KAAK,GAAG,IAAIC,cAAY,CAACH,KAAK,EAAEC,OAAO,CAACG,gBAAgB,CAAC;EAC/D,OAAO,IAAAC,yBAAmB,EAACH,KAAK,EAAED,OAAO,CAAC;AAC9C,CAAC,EAAE,SAASK,iBAAiBA,CAACC,OAAO,EAAEN,OAAO,EAAE;EAAEO;AAAU,CAAC,EAAEC,OAAO,EAAE;EACpE,IAAAC,gBAAS,EAAC,SAASC,QAAQA,CAAA,EAAG;IAC1B,MAAM;MAAEC;IAAU,CAAC,GAAGL,OAAO;IAC7B,SAASM,WAAWA,CAACC,KAAK,EAAE;MACxB,IAAIA,KAAK,CAACZ,KAAK,KAAKU,QAAQ,EAAE;QAC1BA,QAAQ,CAACG,MAAM,EAAE;QACjBN,OAAO,CAAC,IAAI,CAAC;MACjB;IACJ;IACA,SAASO,YAAYA,CAACF,KAAK,EAAE;MACzB,IAAIA,KAAK,CAACZ,KAAK,KAAKU,QAAQ,EAAE;QAC1BH,OAAO,CAAC,KAAK,CAAC;MAClB;IACJ;IACAR,OAAO,CAACgB,GAAG,CAACC,EAAE,CAAC;MACXC,SAAS,EAAEN,WAAW;MACtBO,UAAU,EAAEJ;IAChB,CAAC,CAAC;IACF,IAAIf,OAAO,CAACG,gBAAgB,IAAI,IAAI,EAAE;MAClC;MACA,IAAII,QAAQ,IAAI,IAAI,EAAE;QAClBI,QAAQ,CAACS,SAAS,CAACb,QAAQ,CAAC;MAChC;MACAI,QAAQ,CAACU,MAAM,CAACrB,OAAO,CAACgB,GAAG,CAAC;IAChC,CAAC,MAAM;MACH;MACAhB,OAAO,CAACG,gBAAgB,CAACmB,SAAS,CAACX,QAAQ,CAAC;IAChD;IACA,OAAO,SAASY,WAAWA,CAAA,EAAG;MAC1BvB,OAAO,CAACgB,GAAG,CAACQ,GAAG,CAAC;QACZN,SAAS,EAAEN,WAAW;QACtBO,UAAU,EAAEJ;MAChB,CAAC,CAAC;MACFf,OAAO,CAACG,gBAAgB,EAAEsB,WAAW,EAAE;MACvCzB,OAAO,CAACgB,GAAG,CAACU,WAAW,CAACf,QAAQ,CAAC;IACrC,CAAC;EACL,CAAC,EAAE,CACCL,OAAO,EACPN,OAAO,EACPQ,OAAO,EACPD,QAAQ,CACX,CAAC;AACN,CAAC,CAAC;AAACoB,OAAA,CAAA/B,KAAA,GAAAA,KAAA"}