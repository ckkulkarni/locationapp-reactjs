{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","useNumberInput","_extends2","_utils","React","_interopRequireWildcard","_FormControl","_utils2","_extractEventHandlers","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","STEP_KEYS","SUPPORTED_KEYS","parseInput","v","String","trim","parameters","min","max","step","shiftMultiplier","defaultValue","defaultValueProp","disabled","disabledProp","error","errorProp","onBlur","onInputChange","onFocus","onChange","required","requiredProp","readOnly","readOnlyProp","valueProp","inputRef","inputRefProp","inputId","inputIdProp","formControlContext","useFormControlContext","current","isControlled","useRef","handleInputRefWarning","useCallback","instance","process","env","NODE_ENV","nodeName","focus","console","join","handleInputRef","unstable_useForkRef","unstable_useId","focused","setFocused","useState","setValue","dirtyValue","setDirtyValue","undefined","useEffect","handleFocus","otherHandlers","event","_otherHandlers$onFocu","defaultPrevented","_formControlContext$o","handleValueChange","val","newValue","clamp","isNumber","handleInputChange","_formControlContext$o2","_otherHandlers$onInpu","target","Error","formatMuiErrorMessage","currentTarget","match","parseInt","handleBlur","_otherHandlers$onBlur","handleClick","_otherHandlers$onClic","onClick","handleStep","direction","multiplier","shiftKey","up","down","handleKeyDown","_otherHandlers$onKeyD","onKeyDown","includes","preventDefault","ArrowUp","ArrowDown","PageUp","PageDown","getRootProps","externalProps","propsEventHandlers","extractEventHandlers","externalEventHandlers","getInputProps","_ref","mergedEventHandlers","displayValue","type","id","ref","autoComplete","autoCorrect","spellCheck","handleStepperButtonMouseDown","stepperButtonCommonProps","tabIndex","isIncrementDisabled","Number","MAX_SAFE_INTEGER","getIncrementButtonProps","onMouseDown","isDecrementDisabled","MIN_SAFE_INTEGER","getDecrementButtonProps","inputValue"],"sources":["useNumberInput.js"],"sourcesContent":["\"use strict\";\n'use client';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useNumberInput = useNumberInput;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _utils = require(\"@mui/utils\");\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _FormControl = require(\"../FormControl\");\nvar _utils2 = require(\"./utils\");\nvar _extractEventHandlers = require(\"../utils/extractEventHandlers\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst STEP_KEYS = ['ArrowUp', 'ArrowDown', 'PageUp', 'PageDown'];\nconst SUPPORTED_KEYS = [...STEP_KEYS, 'Home', 'End'];\nfunction parseInput(v) {\n  return v ? String(v.trim()) : String(v);\n}\n\n/**\n *\n * Demos:\n *\n * - [Number Input](https://mui.com/base-ui/react-number-input/#hook)\n *\n * API:\n *\n * - [useNumberInput API](https://mui.com/base-ui/react-number-input/hooks-api/#use-number-input)\n */\nfunction useNumberInput(parameters) {\n  const {\n    min,\n    max,\n    step,\n    shiftMultiplier = 10,\n    defaultValue: defaultValueProp,\n    disabled: disabledProp = false,\n    error: errorProp = false,\n    onBlur,\n    onInputChange,\n    onFocus,\n    onChange,\n    required: requiredProp = false,\n    readOnly: readOnlyProp = false,\n    value: valueProp,\n    inputRef: inputRefProp,\n    inputId: inputIdProp\n  } = parameters;\n\n  // TODO: make it work with FormControl\n  const formControlContext = (0, _FormControl.useFormControlContext)();\n  const {\n    current: isControlled\n  } = React.useRef(valueProp != null);\n  const handleInputRefWarning = React.useCallback(instance => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (instance && instance.nodeName !== 'INPUT' && !instance.focus) {\n        console.error(['MUI: You have provided a `slots.input` to the input component', 'that does not correctly handle the `ref` prop.', 'Make sure the `ref` prop is called with a HTMLInputElement.'].join('\\n'));\n      }\n    }\n  }, []);\n  const inputRef = React.useRef(null);\n  const handleInputRef = (0, _utils.unstable_useForkRef)(inputRef, inputRefProp, handleInputRefWarning);\n  const inputId = (0, _utils.unstable_useId)(inputIdProp);\n  const [focused, setFocused] = React.useState(false);\n\n  // the \"final\" value\n  const [value, setValue] = React.useState(valueProp != null ? valueProp : defaultValueProp);\n  // the (potentially) dirty or invalid input value\n  const [dirtyValue, setDirtyValue] = React.useState(value ? String(value) : undefined);\n  React.useEffect(() => {\n    if (!formControlContext && disabledProp && focused) {\n      setFocused(false);\n      onBlur == null ? void 0 : onBlur();\n    }\n  }, [formControlContext, disabledProp, focused, onBlur]);\n  const handleFocus = otherHandlers => event => {\n    var _otherHandlers$onFocu;\n    (_otherHandlers$onFocu = otherHandlers.onFocus) == null ? void 0 : _otherHandlers$onFocu.call(otherHandlers, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    if (formControlContext && formControlContext.onFocus) {\n      var _formControlContext$o;\n      formControlContext == null || (_formControlContext$o = formControlContext.onFocus) == null ? void 0 : _formControlContext$o.call(formControlContext);\n    }\n    setFocused(true);\n  };\n  const handleValueChange = () => (event, val) => {\n    let newValue;\n    if (val === undefined) {\n      newValue = val;\n      setDirtyValue('');\n    } else {\n      newValue = (0, _utils2.clamp)(val, min, max, step);\n      setDirtyValue(String(newValue));\n    }\n    setValue(newValue);\n    if ((0, _utils2.isNumber)(newValue)) {\n      onChange == null ? void 0 : onChange(event, newValue);\n    } else {\n      onChange == null ? void 0 : onChange(event, undefined);\n    }\n  };\n  const handleInputChange = otherHandlers => event => {\n    var _formControlContext$o2, _otherHandlers$onInpu;\n    if (!isControlled && event.target === null) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? `MUI: Expected valid input target. Did you use a custom \\`slots.input\\` and forget to forward refs? See https://mui.com/r/input-component-ref-interface for more info.` : (0, _utils.formatMuiErrorMessage)(17));\n    }\n    formControlContext == null || (_formControlContext$o2 = formControlContext.onChange) == null ? void 0 : _formControlContext$o2.call(formControlContext, event);\n    (_otherHandlers$onInpu = otherHandlers.onInputChange) == null ? void 0 : _otherHandlers$onInpu.call(otherHandlers, event);\n    const val = parseInput(event.currentTarget.value);\n    if (val === '' || val === '-') {\n      setDirtyValue(val);\n      setValue(undefined);\n    }\n    if (val.match(/^-?\\d+?$/)) {\n      setDirtyValue(val);\n      setValue(parseInt(val, 10));\n    }\n  };\n  const handleBlur = otherHandlers => event => {\n    var _otherHandlers$onBlur;\n    const val = parseInput(event.currentTarget.value);\n    (_otherHandlers$onBlur = otherHandlers.onBlur) == null ? void 0 : _otherHandlers$onBlur.call(otherHandlers, event);\n    if (val === '' || val === '-') {\n      handleValueChange()(event, undefined);\n    } else {\n      handleValueChange()(event, parseInt(val, 10));\n    }\n    if (formControlContext && formControlContext.onBlur) {\n      formControlContext.onBlur();\n    }\n    setFocused(false);\n  };\n  const handleClick = otherHandlers => event => {\n    var _otherHandlers$onClic;\n    if (inputRef.current && event.currentTarget === event.target) {\n      inputRef.current.focus();\n    }\n    (_otherHandlers$onClic = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic.call(otherHandlers, event);\n  };\n  const handleStep = direction => event => {\n    let newValue;\n    if ((0, _utils2.isNumber)(value)) {\n      const multiplier = event.shiftKey || event.key === 'PageUp' || event.key === 'PageDown' ? shiftMultiplier : 1;\n      newValue = {\n        up: value + (step != null ? step : 1) * multiplier,\n        down: value - (step != null ? step : 1) * multiplier\n      }[direction];\n    } else {\n      // no value\n      newValue = {\n        up: min != null ? min : 0,\n        down: max != null ? max : 0\n      }[direction];\n    }\n    handleValueChange()(event, newValue);\n  };\n  const handleKeyDown = otherHandlers => event => {\n    var _otherHandlers$onKeyD;\n    (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null ? void 0 : _otherHandlers$onKeyD.call(otherHandlers, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    if (SUPPORTED_KEYS.includes(event.key)) {\n      event.preventDefault();\n    }\n    if (STEP_KEYS.includes(event.key)) {\n      const direction = {\n        ArrowUp: 'up',\n        ArrowDown: 'down',\n        PageUp: 'up',\n        PageDown: 'down'\n      }[event.key];\n      handleStep(direction)(event);\n    }\n    if (event.key === 'Home' && (0, _utils2.isNumber)(max)) {\n      handleValueChange()(event, max);\n    }\n    if (event.key === 'End' && (0, _utils2.isNumber)(min)) {\n      handleValueChange()(event, min);\n    }\n  };\n  const getRootProps = (externalProps = {}) => {\n    const propsEventHandlers = (0, _extractEventHandlers.extractEventHandlers)(parameters, ['onBlur', 'onInputChange', 'onFocus', 'onChange']);\n    const externalEventHandlers = (0, _extends2.default)({}, propsEventHandlers, (0, _extractEventHandlers.extractEventHandlers)(externalProps));\n    return (0, _extends2.default)({}, externalProps, externalEventHandlers, {\n      onClick: handleClick(externalEventHandlers)\n    });\n  };\n  const getInputProps = (externalProps = {}) => {\n    var _ref;\n    const externalEventHandlers = (0, _extends2.default)({\n      onBlur,\n      onFocus\n    }, (0, _extractEventHandlers.extractEventHandlers)(externalProps, ['onInputChange']));\n    const mergedEventHandlers = (0, _extends2.default)({}, externalProps, externalEventHandlers, {\n      onFocus: handleFocus(externalEventHandlers),\n      onChange: handleInputChange((0, _extends2.default)({}, externalEventHandlers, {\n        onInputChange\n      })),\n      onBlur: handleBlur(externalEventHandlers),\n      onKeyDown: handleKeyDown(externalEventHandlers)\n    });\n    const displayValue = (_ref = focused ? dirtyValue : value) != null ? _ref : '';\n    return (0, _extends2.default)({}, mergedEventHandlers, {\n      type: 'text',\n      id: inputId,\n      'aria-invalid': errorProp || undefined,\n      defaultValue: undefined,\n      ref: handleInputRef,\n      value: displayValue,\n      'aria-valuenow': displayValue,\n      'aria-valuetext': String(displayValue),\n      'aria-valuemin': min,\n      'aria-valuemax': max,\n      autoComplete: 'off',\n      autoCorrect: 'off',\n      spellCheck: 'false',\n      required: requiredProp,\n      readOnly: readOnlyProp,\n      'aria-disabled': disabledProp,\n      disabled: disabledProp\n    });\n  };\n  const handleStepperButtonMouseDown = event => {\n    event.preventDefault();\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  };\n  const stepperButtonCommonProps = {\n    'aria-controls': inputId,\n    tabIndex: -1\n  };\n  const isIncrementDisabled = disabledProp || ((0, _utils2.isNumber)(value) ? value >= (max != null ? max : Number.MAX_SAFE_INTEGER) : false);\n  const getIncrementButtonProps = (externalProps = {}) => {\n    return (0, _extends2.default)({}, externalProps, stepperButtonCommonProps, {\n      disabled: isIncrementDisabled,\n      'aria-disabled': isIncrementDisabled,\n      onMouseDown: handleStepperButtonMouseDown,\n      onClick: handleStep('up')\n    });\n  };\n  const isDecrementDisabled = disabledProp || ((0, _utils2.isNumber)(value) ? value <= (min != null ? min : Number.MIN_SAFE_INTEGER) : false);\n  const getDecrementButtonProps = (externalProps = {}) => {\n    return (0, _extends2.default)({}, externalProps, stepperButtonCommonProps, {\n      disabled: isDecrementDisabled,\n      'aria-disabled': isDecrementDisabled,\n      onMouseDown: handleStepperButtonMouseDown,\n      onClick: handleStep('down')\n    });\n  };\n  return {\n    disabled: disabledProp,\n    error: errorProp,\n    focused,\n    formControlContext,\n    getInputProps,\n    getIncrementButtonProps,\n    getDecrementButtonProps,\n    getRootProps,\n    required: requiredProp,\n    value: focused ? dirtyValue : value,\n    isIncrementDisabled,\n    isDecrementDisabled,\n    inputValue: dirtyValue\n  };\n}"],"mappings":"AAAA,YAAY;AACZ,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAA8C,CAAC;AACpFC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,cAAc,GAAGA,cAAc;AACvC,IAAIC,SAAS,GAAGP,sBAAsB,CAACC,OAAO,CAAC,gCAAgC,CAAC,CAAC;AACjF,IAAIO,MAAM,GAAGP,OAAO,CAAC,YAAY,CAAC;AAClC,IAAIQ,KAAK,GAAGC,uBAAuB,CAACT,OAAO,CAAC,OAAO,CAAC,CAAC;AACrD,IAAIU,YAAY,GAAGV,OAAO,CAAC,gBAAgB,CAAC;AAC5C,IAAIW,OAAO,GAAGX,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIY,qBAAqB,GAAGZ,OAAO,CAAC,+BAA+B,CAAC;AACpE,SAASa,wBAAwBA,CAACC,WAAW,EAAE;EAAE,IAAI,OAAOC,OAAO,KAAK,UAAU,EAAE,OAAO,IAAI;EAAE,IAAIC,iBAAiB,GAAG,IAAID,OAAO,EAAE;EAAE,IAAIE,gBAAgB,GAAG,IAAIF,OAAO,EAAE;EAAE,OAAO,CAACF,wBAAwB,GAAG,SAAAA,CAAUC,WAAW,EAAE;IAAE,OAAOA,WAAW,GAAGG,gBAAgB,GAAGD,iBAAiB;EAAE,CAAC,EAAEF,WAAW,CAAC;AAAE;AACtT,SAASL,uBAAuBA,CAACS,GAAG,EAAEJ,WAAW,EAAE;EAAE,IAAI,CAACA,WAAW,IAAII,GAAG,IAAIA,GAAG,CAACC,UAAU,EAAE;IAAE,OAAOD,GAAG;EAAE;EAAE,IAAIA,GAAG,KAAK,IAAI,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAI,OAAOA,GAAG,KAAK,UAAU,EAAE;IAAE,OAAO;MAAEE,OAAO,EAAEF;IAAI,CAAC;EAAE;EAAE,IAAIG,KAAK,GAAGR,wBAAwB,CAACC,WAAW,CAAC;EAAE,IAAIO,KAAK,IAAIA,KAAK,CAACC,GAAG,CAACJ,GAAG,CAAC,EAAE;IAAE,OAAOG,KAAK,CAACE,GAAG,CAACL,GAAG,CAAC;EAAE;EAAE,IAAIM,MAAM,GAAG,CAAC,CAAC;EAAE,IAAIC,qBAAqB,GAAGxB,MAAM,CAACC,cAAc,IAAID,MAAM,CAACyB,wBAAwB;EAAE,KAAK,IAAIC,GAAG,IAAIT,GAAG,EAAE;IAAE,IAAIS,GAAG,KAAK,SAAS,IAAI1B,MAAM,CAAC2B,SAAS,CAACC,cAAc,CAACC,IAAI,CAACZ,GAAG,EAAES,GAAG,CAAC,EAAE;MAAE,IAAII,IAAI,GAAGN,qBAAqB,GAAGxB,MAAM,CAACyB,wBAAwB,CAACR,GAAG,EAAES,GAAG,CAAC,GAAG,IAAI;MAAE,IAAII,IAAI,KAAKA,IAAI,CAACR,GAAG,IAAIQ,IAAI,CAACC,GAAG,CAAC,EAAE;QAAE/B,MAAM,CAACC,cAAc,CAACsB,MAAM,EAAEG,GAAG,EAAEI,IAAI,CAAC;MAAE,CAAC,MAAM;QAAEP,MAAM,CAACG,GAAG,CAAC,GAAGT,GAAG,CAACS,GAAG,CAAC;MAAE;IAAE;EAAE;EAAEH,MAAM,CAACJ,OAAO,GAAGF,GAAG;EAAE,IAAIG,KAAK,EAAE;IAAEA,KAAK,CAACW,GAAG,CAACd,GAAG,EAAEM,MAAM,CAAC;EAAE;EAAE,OAAOA,MAAM;AAAE;AACnyB,MAAMS,SAAS,GAAG,CAAC,SAAS,EAAE,WAAW,EAAE,QAAQ,EAAE,UAAU,CAAC;AAChE,MAAMC,cAAc,GAAG,CAAC,GAAGD,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC;AACpD,SAASE,UAAUA,CAACC,CAAC,EAAE;EACrB,OAAOA,CAAC,GAAGC,MAAM,CAACD,CAAC,CAACE,IAAI,EAAE,CAAC,GAAGD,MAAM,CAACD,CAAC,CAAC;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS/B,cAAcA,CAACkC,UAAU,EAAE;EAClC,MAAM;IACJC,GAAG;IACHC,GAAG;IACHC,IAAI;IACJC,eAAe,GAAG,EAAE;IACpBC,YAAY,EAAEC,gBAAgB;IAC9BC,QAAQ,EAAEC,YAAY,GAAG,KAAK;IAC9BC,KAAK,EAAEC,SAAS,GAAG,KAAK;IACxBC,MAAM;IACNC,aAAa;IACbC,OAAO;IACPC,QAAQ;IACRC,QAAQ,EAAEC,YAAY,GAAG,KAAK;IAC9BC,QAAQ,EAAEC,YAAY,GAAG,KAAK;IAC9BrD,KAAK,EAAEsD,SAAS;IAChBC,QAAQ,EAAEC,YAAY;IACtBC,OAAO,EAAEC;EACX,CAAC,GAAGvB,UAAU;;EAEd;EACA,MAAMwB,kBAAkB,GAAG,CAAC,CAAC,EAAErD,YAAY,CAACsD,qBAAqB,GAAG;EACpE,MAAM;IACJC,OAAO,EAAEC;EACX,CAAC,GAAG1D,KAAK,CAAC2D,MAAM,CAACT,SAAS,IAAI,IAAI,CAAC;EACnC,MAAMU,qBAAqB,GAAG5D,KAAK,CAAC6D,WAAW,CAACC,QAAQ,IAAI;IAC1D,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;MACzC,IAAIH,QAAQ,IAAIA,QAAQ,CAACI,QAAQ,KAAK,OAAO,IAAI,CAACJ,QAAQ,CAACK,KAAK,EAAE;QAChEC,OAAO,CAAC5B,KAAK,CAAC,CAAC,+DAA+D,EAAE,gDAAgD,EAAE,6DAA6D,CAAC,CAAC6B,IAAI,CAAC,IAAI,CAAC,CAAC;MAC9M;IACF;EACF,CAAC,EAAE,EAAE,CAAC;EACN,MAAMlB,QAAQ,GAAGnD,KAAK,CAAC2D,MAAM,CAAC,IAAI,CAAC;EACnC,MAAMW,cAAc,GAAG,CAAC,CAAC,EAAEvE,MAAM,CAACwE,mBAAmB,EAAEpB,QAAQ,EAAEC,YAAY,EAAEQ,qBAAqB,CAAC;EACrG,MAAMP,OAAO,GAAG,CAAC,CAAC,EAAEtD,MAAM,CAACyE,cAAc,EAAElB,WAAW,CAAC;EACvD,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAG1E,KAAK,CAAC2E,QAAQ,CAAC,KAAK,CAAC;;EAEnD;EACA,MAAM,CAAC/E,KAAK,EAAEgF,QAAQ,CAAC,GAAG5E,KAAK,CAAC2E,QAAQ,CAACzB,SAAS,IAAI,IAAI,GAAGA,SAAS,GAAGb,gBAAgB,CAAC;EAC1F;EACA,MAAM,CAACwC,UAAU,EAAEC,aAAa,CAAC,GAAG9E,KAAK,CAAC2E,QAAQ,CAAC/E,KAAK,GAAGiC,MAAM,CAACjC,KAAK,CAAC,GAAGmF,SAAS,CAAC;EACrF/E,KAAK,CAACgF,SAAS,CAAC,MAAM;IACpB,IAAI,CAACzB,kBAAkB,IAAIhB,YAAY,IAAIkC,OAAO,EAAE;MAClDC,UAAU,CAAC,KAAK,CAAC;MACjBhC,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,EAAE;IACpC;EACF,CAAC,EAAE,CAACa,kBAAkB,EAAEhB,YAAY,EAAEkC,OAAO,EAAE/B,MAAM,CAAC,CAAC;EACvD,MAAMuC,WAAW,GAAGC,aAAa,IAAIC,KAAK,IAAI;IAC5C,IAAIC,qBAAqB;IACzB,CAACA,qBAAqB,GAAGF,aAAa,CAACtC,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGwC,qBAAqB,CAAC9D,IAAI,CAAC4D,aAAa,EAAEC,KAAK,CAAC;IACnH,IAAIA,KAAK,CAACE,gBAAgB,EAAE;MAC1B;IACF;IACA,IAAI9B,kBAAkB,IAAIA,kBAAkB,CAACX,OAAO,EAAE;MACpD,IAAI0C,qBAAqB;MACzB/B,kBAAkB,IAAI,IAAI,IAAI,CAAC+B,qBAAqB,GAAG/B,kBAAkB,CAACX,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG0C,qBAAqB,CAAChE,IAAI,CAACiC,kBAAkB,CAAC;IACtJ;IACAmB,UAAU,CAAC,IAAI,CAAC;EAClB,CAAC;EACD,MAAMa,iBAAiB,GAAGA,CAAA,KAAM,CAACJ,KAAK,EAAEK,GAAG,KAAK;IAC9C,IAAIC,QAAQ;IACZ,IAAID,GAAG,KAAKT,SAAS,EAAE;MACrBU,QAAQ,GAAGD,GAAG;MACdV,aAAa,CAAC,EAAE,CAAC;IACnB,CAAC,MAAM;MACLW,QAAQ,GAAG,CAAC,CAAC,EAAEtF,OAAO,CAACuF,KAAK,EAAEF,GAAG,EAAExD,GAAG,EAAEC,GAAG,EAAEC,IAAI,CAAC;MAClD4C,aAAa,CAACjD,MAAM,CAAC4D,QAAQ,CAAC,CAAC;IACjC;IACAb,QAAQ,CAACa,QAAQ,CAAC;IAClB,IAAI,CAAC,CAAC,EAAEtF,OAAO,CAACwF,QAAQ,EAAEF,QAAQ,CAAC,EAAE;MACnC5C,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACsC,KAAK,EAAEM,QAAQ,CAAC;IACvD,CAAC,MAAM;MACL5C,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACsC,KAAK,EAAEJ,SAAS,CAAC;IACxD;EACF,CAAC;EACD,MAAMa,iBAAiB,GAAGV,aAAa,IAAIC,KAAK,IAAI;IAClD,IAAIU,sBAAsB,EAAEC,qBAAqB;IACjD,IAAI,CAACpC,YAAY,IAAIyB,KAAK,CAACY,MAAM,KAAK,IAAI,EAAE;MAC1C,MAAM,IAAIC,KAAK,CAACjC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAI,uKAAsK,GAAG,CAAC,CAAC,EAAElE,MAAM,CAACkG,qBAAqB,EAAE,EAAE,CAAC,CAAC;IAC1Q;IACA1C,kBAAkB,IAAI,IAAI,IAAI,CAACsC,sBAAsB,GAAGtC,kBAAkB,CAACV,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGgD,sBAAsB,CAACvE,IAAI,CAACiC,kBAAkB,EAAE4B,KAAK,CAAC;IAC9J,CAACW,qBAAqB,GAAGZ,aAAa,CAACvC,aAAa,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGmD,qBAAqB,CAACxE,IAAI,CAAC4D,aAAa,EAAEC,KAAK,CAAC;IACzH,MAAMK,GAAG,GAAG7D,UAAU,CAACwD,KAAK,CAACe,aAAa,CAACtG,KAAK,CAAC;IACjD,IAAI4F,GAAG,KAAK,EAAE,IAAIA,GAAG,KAAK,GAAG,EAAE;MAC7BV,aAAa,CAACU,GAAG,CAAC;MAClBZ,QAAQ,CAACG,SAAS,CAAC;IACrB;IACA,IAAIS,GAAG,CAACW,KAAK,CAAC,UAAU,CAAC,EAAE;MACzBrB,aAAa,CAACU,GAAG,CAAC;MAClBZ,QAAQ,CAACwB,QAAQ,CAACZ,GAAG,EAAE,EAAE,CAAC,CAAC;IAC7B;EACF,CAAC;EACD,MAAMa,UAAU,GAAGnB,aAAa,IAAIC,KAAK,IAAI;IAC3C,IAAImB,qBAAqB;IACzB,MAAMd,GAAG,GAAG7D,UAAU,CAACwD,KAAK,CAACe,aAAa,CAACtG,KAAK,CAAC;IACjD,CAAC0G,qBAAqB,GAAGpB,aAAa,CAACxC,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG4D,qBAAqB,CAAChF,IAAI,CAAC4D,aAAa,EAAEC,KAAK,CAAC;IAClH,IAAIK,GAAG,KAAK,EAAE,IAAIA,GAAG,KAAK,GAAG,EAAE;MAC7BD,iBAAiB,EAAE,CAACJ,KAAK,EAAEJ,SAAS,CAAC;IACvC,CAAC,MAAM;MACLQ,iBAAiB,EAAE,CAACJ,KAAK,EAAEiB,QAAQ,CAACZ,GAAG,EAAE,EAAE,CAAC,CAAC;IAC/C;IACA,IAAIjC,kBAAkB,IAAIA,kBAAkB,CAACb,MAAM,EAAE;MACnDa,kBAAkB,CAACb,MAAM,EAAE;IAC7B;IACAgC,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EACD,MAAM6B,WAAW,GAAGrB,aAAa,IAAIC,KAAK,IAAI;IAC5C,IAAIqB,qBAAqB;IACzB,IAAIrD,QAAQ,CAACM,OAAO,IAAI0B,KAAK,CAACe,aAAa,KAAKf,KAAK,CAACY,MAAM,EAAE;MAC5D5C,QAAQ,CAACM,OAAO,CAACU,KAAK,EAAE;IAC1B;IACA,CAACqC,qBAAqB,GAAGtB,aAAa,CAACuB,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,qBAAqB,CAAClF,IAAI,CAAC4D,aAAa,EAAEC,KAAK,CAAC;EACrH,CAAC;EACD,MAAMuB,UAAU,GAAGC,SAAS,IAAIxB,KAAK,IAAI;IACvC,IAAIM,QAAQ;IACZ,IAAI,CAAC,CAAC,EAAEtF,OAAO,CAACwF,QAAQ,EAAE/F,KAAK,CAAC,EAAE;MAChC,MAAMgH,UAAU,GAAGzB,KAAK,CAAC0B,QAAQ,IAAI1B,KAAK,CAAChE,GAAG,KAAK,QAAQ,IAAIgE,KAAK,CAAChE,GAAG,KAAK,UAAU,GAAGgB,eAAe,GAAG,CAAC;MAC7GsD,QAAQ,GAAG;QACTqB,EAAE,EAAElH,KAAK,GAAG,CAACsC,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,CAAC,IAAI0E,UAAU;QAClDG,IAAI,EAAEnH,KAAK,GAAG,CAACsC,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,CAAC,IAAI0E;MAC5C,CAAC,CAACD,SAAS,CAAC;IACd,CAAC,MAAM;MACL;MACAlB,QAAQ,GAAG;QACTqB,EAAE,EAAE9E,GAAG,IAAI,IAAI,GAAGA,GAAG,GAAG,CAAC;QACzB+E,IAAI,EAAE9E,GAAG,IAAI,IAAI,GAAGA,GAAG,GAAG;MAC5B,CAAC,CAAC0E,SAAS,CAAC;IACd;IACApB,iBAAiB,EAAE,CAACJ,KAAK,EAAEM,QAAQ,CAAC;EACtC,CAAC;EACD,MAAMuB,aAAa,GAAG9B,aAAa,IAAIC,KAAK,IAAI;IAC9C,IAAI8B,qBAAqB;IACzB,CAACA,qBAAqB,GAAG/B,aAAa,CAACgC,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,qBAAqB,CAAC3F,IAAI,CAAC4D,aAAa,EAAEC,KAAK,CAAC;IACrH,IAAIA,KAAK,CAACE,gBAAgB,EAAE;MAC1B;IACF;IACA,IAAI3D,cAAc,CAACyF,QAAQ,CAAChC,KAAK,CAAChE,GAAG,CAAC,EAAE;MACtCgE,KAAK,CAACiC,cAAc,EAAE;IACxB;IACA,IAAI3F,SAAS,CAAC0F,QAAQ,CAAChC,KAAK,CAAChE,GAAG,CAAC,EAAE;MACjC,MAAMwF,SAAS,GAAG;QAChBU,OAAO,EAAE,IAAI;QACbC,SAAS,EAAE,MAAM;QACjBC,MAAM,EAAE,IAAI;QACZC,QAAQ,EAAE;MACZ,CAAC,CAACrC,KAAK,CAAChE,GAAG,CAAC;MACZuF,UAAU,CAACC,SAAS,CAAC,CAACxB,KAAK,CAAC;IAC9B;IACA,IAAIA,KAAK,CAAChE,GAAG,KAAK,MAAM,IAAI,CAAC,CAAC,EAAEhB,OAAO,CAACwF,QAAQ,EAAE1D,GAAG,CAAC,EAAE;MACtDsD,iBAAiB,EAAE,CAACJ,KAAK,EAAElD,GAAG,CAAC;IACjC;IACA,IAAIkD,KAAK,CAAChE,GAAG,KAAK,KAAK,IAAI,CAAC,CAAC,EAAEhB,OAAO,CAACwF,QAAQ,EAAE3D,GAAG,CAAC,EAAE;MACrDuD,iBAAiB,EAAE,CAACJ,KAAK,EAAEnD,GAAG,CAAC;IACjC;EACF,CAAC;EACD,MAAMyF,YAAY,GAAGA,CAACC,aAAa,GAAG,CAAC,CAAC,KAAK;IAC3C,MAAMC,kBAAkB,GAAG,CAAC,CAAC,EAAEvH,qBAAqB,CAACwH,oBAAoB,EAAE7F,UAAU,EAAE,CAAC,QAAQ,EAAE,eAAe,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;IAC1I,MAAM8F,qBAAqB,GAAG,CAAC,CAAC,EAAE/H,SAAS,CAACc,OAAO,EAAE,CAAC,CAAC,EAAE+G,kBAAkB,EAAE,CAAC,CAAC,EAAEvH,qBAAqB,CAACwH,oBAAoB,EAAEF,aAAa,CAAC,CAAC;IAC5I,OAAO,CAAC,CAAC,EAAE5H,SAAS,CAACc,OAAO,EAAE,CAAC,CAAC,EAAE8G,aAAa,EAAEG,qBAAqB,EAAE;MACtEpB,OAAO,EAAEF,WAAW,CAACsB,qBAAqB;IAC5C,CAAC,CAAC;EACJ,CAAC;EACD,MAAMC,aAAa,GAAGA,CAACJ,aAAa,GAAG,CAAC,CAAC,KAAK;IAC5C,IAAIK,IAAI;IACR,MAAMF,qBAAqB,GAAG,CAAC,CAAC,EAAE/H,SAAS,CAACc,OAAO,EAAE;MACnD8B,MAAM;MACNE;IACF,CAAC,EAAE,CAAC,CAAC,EAAExC,qBAAqB,CAACwH,oBAAoB,EAAEF,aAAa,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC;IACrF,MAAMM,mBAAmB,GAAG,CAAC,CAAC,EAAElI,SAAS,CAACc,OAAO,EAAE,CAAC,CAAC,EAAE8G,aAAa,EAAEG,qBAAqB,EAAE;MAC3FjF,OAAO,EAAEqC,WAAW,CAAC4C,qBAAqB,CAAC;MAC3ChF,QAAQ,EAAE+C,iBAAiB,CAAC,CAAC,CAAC,EAAE9F,SAAS,CAACc,OAAO,EAAE,CAAC,CAAC,EAAEiH,qBAAqB,EAAE;QAC5ElF;MACF,CAAC,CAAC,CAAC;MACHD,MAAM,EAAE2D,UAAU,CAACwB,qBAAqB,CAAC;MACzCX,SAAS,EAAEF,aAAa,CAACa,qBAAqB;IAChD,CAAC,CAAC;IACF,MAAMI,YAAY,GAAG,CAACF,IAAI,GAAGtD,OAAO,GAAGI,UAAU,GAAGjF,KAAK,KAAK,IAAI,GAAGmI,IAAI,GAAG,EAAE;IAC9E,OAAO,CAAC,CAAC,EAAEjI,SAAS,CAACc,OAAO,EAAE,CAAC,CAAC,EAAEoH,mBAAmB,EAAE;MACrDE,IAAI,EAAE,MAAM;MACZC,EAAE,EAAE9E,OAAO;MACX,cAAc,EAAEZ,SAAS,IAAIsC,SAAS;MACtC3C,YAAY,EAAE2C,SAAS;MACvBqD,GAAG,EAAE9D,cAAc;MACnB1E,KAAK,EAAEqI,YAAY;MACnB,eAAe,EAAEA,YAAY;MAC7B,gBAAgB,EAAEpG,MAAM,CAACoG,YAAY,CAAC;MACtC,eAAe,EAAEjG,GAAG;MACpB,eAAe,EAAEC,GAAG;MACpBoG,YAAY,EAAE,KAAK;MACnBC,WAAW,EAAE,KAAK;MAClBC,UAAU,EAAE,OAAO;MACnBzF,QAAQ,EAAEC,YAAY;MACtBC,QAAQ,EAAEC,YAAY;MACtB,eAAe,EAAEV,YAAY;MAC7BD,QAAQ,EAAEC;IACZ,CAAC,CAAC;EACJ,CAAC;EACD,MAAMiG,4BAA4B,GAAGrD,KAAK,IAAI;IAC5CA,KAAK,CAACiC,cAAc,EAAE;IACtB,IAAIjE,QAAQ,CAACM,OAAO,EAAE;MACpBN,QAAQ,CAACM,OAAO,CAACU,KAAK,EAAE;IAC1B;EACF,CAAC;EACD,MAAMsE,wBAAwB,GAAG;IAC/B,eAAe,EAAEpF,OAAO;IACxBqF,QAAQ,EAAE,CAAC;EACb,CAAC;EACD,MAAMC,mBAAmB,GAAGpG,YAAY,KAAK,CAAC,CAAC,EAAEpC,OAAO,CAACwF,QAAQ,EAAE/F,KAAK,CAAC,GAAGA,KAAK,KAAKqC,GAAG,IAAI,IAAI,GAAGA,GAAG,GAAG2G,MAAM,CAACC,gBAAgB,CAAC,GAAG,KAAK,CAAC;EAC3I,MAAMC,uBAAuB,GAAGA,CAACpB,aAAa,GAAG,CAAC,CAAC,KAAK;IACtD,OAAO,CAAC,CAAC,EAAE5H,SAAS,CAACc,OAAO,EAAE,CAAC,CAAC,EAAE8G,aAAa,EAAEe,wBAAwB,EAAE;MACzEnG,QAAQ,EAAEqG,mBAAmB;MAC7B,eAAe,EAAEA,mBAAmB;MACpCI,WAAW,EAAEP,4BAA4B;MACzC/B,OAAO,EAAEC,UAAU,CAAC,IAAI;IAC1B,CAAC,CAAC;EACJ,CAAC;EACD,MAAMsC,mBAAmB,GAAGzG,YAAY,KAAK,CAAC,CAAC,EAAEpC,OAAO,CAACwF,QAAQ,EAAE/F,KAAK,CAAC,GAAGA,KAAK,KAAKoC,GAAG,IAAI,IAAI,GAAGA,GAAG,GAAG4G,MAAM,CAACK,gBAAgB,CAAC,GAAG,KAAK,CAAC;EAC3I,MAAMC,uBAAuB,GAAGA,CAACxB,aAAa,GAAG,CAAC,CAAC,KAAK;IACtD,OAAO,CAAC,CAAC,EAAE5H,SAAS,CAACc,OAAO,EAAE,CAAC,CAAC,EAAE8G,aAAa,EAAEe,wBAAwB,EAAE;MACzEnG,QAAQ,EAAE0G,mBAAmB;MAC7B,eAAe,EAAEA,mBAAmB;MACpCD,WAAW,EAAEP,4BAA4B;MACzC/B,OAAO,EAAEC,UAAU,CAAC,MAAM;IAC5B,CAAC,CAAC;EACJ,CAAC;EACD,OAAO;IACLpE,QAAQ,EAAEC,YAAY;IACtBC,KAAK,EAAEC,SAAS;IAChBgC,OAAO;IACPlB,kBAAkB;IAClBuE,aAAa;IACbgB,uBAAuB;IACvBI,uBAAuB;IACvBzB,YAAY;IACZ3E,QAAQ,EAAEC,YAAY;IACtBnD,KAAK,EAAE6E,OAAO,GAAGI,UAAU,GAAGjF,KAAK;IACnC+I,mBAAmB;IACnBK,mBAAmB;IACnBG,UAAU,EAAEtE;EACd,CAAC;AACH"}