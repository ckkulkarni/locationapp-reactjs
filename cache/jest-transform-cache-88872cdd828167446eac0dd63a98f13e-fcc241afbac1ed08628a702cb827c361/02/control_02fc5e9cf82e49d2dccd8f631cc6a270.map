{"version":3,"names":["_react","require","_context","createControlHook","useElement","useLeafletControl","props","context","useLeafletContext","elementRef","instance","current","positionRef","useRef","position","useEffect","addControl","addTo","map","removeControl","remove","updateControl","setPosition"],"sources":["control.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { useLeafletContext } from './context.js';\nexport function createControlHook(useElement) {\n    return function useLeafletControl(props) {\n        const context = useLeafletContext();\n        const elementRef = useElement(props, context);\n        const { instance  } = elementRef.current;\n        const positionRef = useRef(props.position);\n        const { position  } = props;\n        useEffect(function addControl() {\n            instance.addTo(context.map);\n            return function removeControl() {\n                instance.remove();\n            };\n        }, [\n            context.map,\n            instance\n        ]);\n        useEffect(function updateControl() {\n            if (position != null && position !== positionRef.current) {\n                instance.setPosition(position);\n                positionRef.current = position;\n            }\n        }, [\n            instance,\n            position\n        ]);\n        return elementRef;\n    };\n}\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACO,SAASE,iBAAiBA,CAACC,UAAU,EAAE;EAC1C,OAAO,SAASC,iBAAiBA,CAACC,KAAK,EAAE;IACrC,MAAMC,OAAO,GAAG,IAAAC,0BAAiB,GAAE;IACnC,MAAMC,UAAU,GAAGL,UAAU,CAACE,KAAK,EAAEC,OAAO,CAAC;IAC7C,MAAM;MAAEG;IAAU,CAAC,GAAGD,UAAU,CAACE,OAAO;IACxC,MAAMC,WAAW,GAAG,IAAAC,aAAM,EAACP,KAAK,CAACQ,QAAQ,CAAC;IAC1C,MAAM;MAAEA;IAAU,CAAC,GAAGR,KAAK;IAC3B,IAAAS,gBAAS,EAAC,SAASC,UAAUA,CAAA,EAAG;MAC5BN,QAAQ,CAACO,KAAK,CAACV,OAAO,CAACW,GAAG,CAAC;MAC3B,OAAO,SAASC,aAAaA,CAAA,EAAG;QAC5BT,QAAQ,CAACU,MAAM,EAAE;MACrB,CAAC;IACL,CAAC,EAAE,CACCb,OAAO,CAACW,GAAG,EACXR,QAAQ,CACX,CAAC;IACF,IAAAK,gBAAS,EAAC,SAASM,aAAaA,CAAA,EAAG;MAC/B,IAAIP,QAAQ,IAAI,IAAI,IAAIA,QAAQ,KAAKF,WAAW,CAACD,OAAO,EAAE;QACtDD,QAAQ,CAACY,WAAW,CAACR,QAAQ,CAAC;QAC9BF,WAAW,CAACD,OAAO,GAAGG,QAAQ;MAClC;IACJ,CAAC,EAAE,CACCJ,QAAQ,EACRI,QAAQ,CACX,CAAC;IACF,OAAOL,UAAU;EACrB,CAAC;AACL"}