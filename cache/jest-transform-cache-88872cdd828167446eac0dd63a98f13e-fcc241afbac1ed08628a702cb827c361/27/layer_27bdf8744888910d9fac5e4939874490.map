{"version":3,"names":["_react","require","_attribution","_context","_events","_pane","useLayerLifecycle","element","context","useEffect","addLayer","container","layerContainer","map","instance","removeLayer","createLayerHook","useElement","useLayer","props","useLeafletContext","elementRef","withPane","useAttribution","attribution","useEventHandlers","current","eventHandlers"],"sources":["layer.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useAttribution } from './attribution.js';\nimport { useLeafletContext } from './context.js';\nimport { useEventHandlers } from './events.js';\nimport { withPane } from './pane.js';\nexport function useLayerLifecycle(element, context) {\n    useEffect(function addLayer() {\n        const container = context.layerContainer ?? context.map;\n        container.addLayer(element.instance);\n        return function removeLayer() {\n            context.layerContainer?.removeLayer(element.instance);\n            context.map.removeLayer(element.instance);\n        };\n    }, [\n        context,\n        element\n    ]);\n}\nexport function createLayerHook(useElement) {\n    return function useLayer(props) {\n        const context = useLeafletContext();\n        const elementRef = useElement(withPane(props, context), context);\n        useAttribution(context.map, props.attribution);\n        useEventHandlers(elementRef.current, props.eventHandlers);\n        useLayerLifecycle(elementRef.current, context);\n        return elementRef;\n    };\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,OAAA,GAAAH,OAAA;AACA,IAAAI,KAAA,GAAAJ,OAAA;AACO,SAASK,iBAAiBA,CAACC,OAAO,EAAEC,OAAO,EAAE;EAChD,IAAAC,gBAAS,EAAC,SAASC,QAAQA,CAAA,EAAG;IAC1B,MAAMC,SAAS,GAAGH,OAAO,CAACI,cAAc,IAAIJ,OAAO,CAACK,GAAG;IACvDF,SAAS,CAACD,QAAQ,CAACH,OAAO,CAACO,QAAQ,CAAC;IACpC,OAAO,SAASC,WAAWA,CAAA,EAAG;MAC1BP,OAAO,CAACI,cAAc,EAAEG,WAAW,CAACR,OAAO,CAACO,QAAQ,CAAC;MACrDN,OAAO,CAACK,GAAG,CAACE,WAAW,CAACR,OAAO,CAACO,QAAQ,CAAC;IAC7C,CAAC;EACL,CAAC,EAAE,CACCN,OAAO,EACPD,OAAO,CACV,CAAC;AACN;AACO,SAASS,eAAeA,CAACC,UAAU,EAAE;EACxC,OAAO,SAASC,QAAQA,CAACC,KAAK,EAAE;IAC5B,MAAMX,OAAO,GAAG,IAAAY,0BAAiB,GAAE;IACnC,MAAMC,UAAU,GAAGJ,UAAU,CAAC,IAAAK,cAAQ,EAACH,KAAK,EAAEX,OAAO,CAAC,EAAEA,OAAO,CAAC;IAChE,IAAAe,2BAAc,EAACf,OAAO,CAACK,GAAG,EAAEM,KAAK,CAACK,WAAW,CAAC;IAC9C,IAAAC,wBAAgB,EAACJ,UAAU,CAACK,OAAO,EAAEP,KAAK,CAACQ,aAAa,CAAC;IACzDrB,iBAAiB,CAACe,UAAU,CAACK,OAAO,EAAElB,OAAO,CAAC;IAC9C,OAAOa,UAAU;EACrB,CAAC;AACL"}