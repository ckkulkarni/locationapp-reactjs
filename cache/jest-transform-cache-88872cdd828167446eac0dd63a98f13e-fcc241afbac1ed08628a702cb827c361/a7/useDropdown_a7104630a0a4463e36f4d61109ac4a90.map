{"version":3,"names":["Object","defineProperty","exports","value","useDropdown","React","_interopRequireWildcard","require","_useControllableReducer","_useDropdown","_dropdownReducer","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","parameters","defaultOpen","onOpenChange","open","openProp","popupId","setPopupId","useState","triggerElement","setTriggerElement","lastActionType","useRef","handleStateChange","useCallback","event","field","reason","current","controlledProps","useMemo","undefined","state","dispatch","useControllableReducer","initialState","onStateChange","reducer","dropdownReducer","useEffect","DropdownActionTypes","blur","focus","contextValue","registerPopup","registerTrigger"],"sources":["useDropdown.js"],"sourcesContent":["\"use strict\";\n'use client';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useDropdown = useDropdown;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _useControllableReducer = require(\"../utils/useControllableReducer\");\nvar _useDropdown = require(\"./useDropdown.types\");\nvar _dropdownReducer = require(\"./dropdownReducer\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n/**\n *\n * Demos:\n *\n * - [Menu](https://mui.com/base-ui/react-menu/#hooks)\n *\n * API:\n *\n * - [useDropdown API](https://mui.com/base-ui/react-menu/hooks-api/#use-dropdown)\n */\nfunction useDropdown(parameters = {}) {\n  const {\n    defaultOpen,\n    onOpenChange,\n    open: openProp\n  } = parameters;\n  const [popupId, setPopupId] = React.useState('');\n  const [triggerElement, setTriggerElement] = React.useState(null);\n  const lastActionType = React.useRef(null);\n  const handleStateChange = React.useCallback((event, field, value, reason) => {\n    if (field === 'open') {\n      onOpenChange == null ? void 0 : onOpenChange(event, value);\n    }\n    lastActionType.current = reason;\n  }, [onOpenChange]);\n  const controlledProps = React.useMemo(() => openProp !== undefined ? {\n    open: openProp\n  } : {}, [openProp]);\n  const [state, dispatch] = (0, _useControllableReducer.useControllableReducer)({\n    controlledProps,\n    initialState: defaultOpen ? {\n      open: true\n    } : {\n      open: false\n    },\n    onStateChange: handleStateChange,\n    reducer: _dropdownReducer.dropdownReducer\n  });\n  React.useEffect(() => {\n    if (!state.open && lastActionType.current !== null && lastActionType.current !== _useDropdown.DropdownActionTypes.blur) {\n      triggerElement == null ? void 0 : triggerElement.focus();\n    }\n  }, [state.open, triggerElement]);\n  const contextValue = {\n    state,\n    dispatch,\n    popupId,\n    registerPopup: setPopupId,\n    registerTrigger: setTriggerElement,\n    triggerElement\n  };\n  return {\n    contextValue,\n    open: state.open\n  };\n}"],"mappings":"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"}