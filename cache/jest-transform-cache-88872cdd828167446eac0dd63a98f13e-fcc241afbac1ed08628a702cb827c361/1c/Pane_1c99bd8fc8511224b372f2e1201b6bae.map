{"version":3,"names":["_core","require","_react","_interopRequireWildcard","_reactDom","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","DEFAULT_PANES","omitPane","pane","_p","others","createPane","name","props","context","indexOf","Error","map","getPane","parentPaneName","parentPane","undefined","element","className","addClassName","style","keys","forEach","PaneComponent","forwardedRef","paneName","useState","paneElement","setPaneElement","useImperativeHandle","useLeafletContext","newContext","useMemo","useEffect","removeCreatedPane","remove","_panes","_paneRenderers","children","createPortal","React","createElement","LeafletProvider","value","Pane","forwardRef","exports"],"sources":["Pane.js"],"sourcesContent":["import { LeafletProvider, addClassName, useLeafletContext } from '@react-leaflet/core';\nimport React, { forwardRef, useState, useEffect, useImperativeHandle, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nconst DEFAULT_PANES = [\n    'mapPane',\n    'markerPane',\n    'overlayPane',\n    'popupPane',\n    'shadowPane',\n    'tilePane',\n    'tooltipPane'\n];\nfunction omitPane(obj, pane) {\n    const { [pane]: _p , ...others } = obj;\n    return others;\n}\nfunction createPane(name, props, context) {\n    if (DEFAULT_PANES.indexOf(name) !== -1) {\n        throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${name}`);\n    }\n    if (context.map.getPane(name) != null) {\n        throw new Error(`A pane with this name already exists: ${name}`);\n    }\n    const parentPaneName = props.pane ?? context.pane;\n    const parentPane = parentPaneName ? context.map.getPane(parentPaneName) : undefined;\n    const element = context.map.createPane(name, parentPane);\n    if (props.className != null) {\n        addClassName(element, props.className);\n    }\n    if (props.style != null) {\n        Object.keys(props.style).forEach((key)=>{\n            // @ts-ignore\n            element.style[key] = props.style[key];\n        });\n    }\n    return element;\n}\nfunction PaneComponent(props, forwardedRef) {\n    const [paneName] = useState(props.name);\n    const [paneElement, setPaneElement] = useState(null);\n    useImperativeHandle(forwardedRef, ()=>paneElement, [\n        paneElement\n    ]);\n    const context = useLeafletContext();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const newContext = useMemo(()=>({\n            ...context,\n            pane: paneName\n        }), [\n        context\n    ]);\n    useEffect(()=>{\n        setPaneElement(createPane(paneName, props, context));\n        return function removeCreatedPane() {\n            const pane = context.map.getPane(paneName);\n            pane?.remove?.();\n            // @ts-ignore map internals\n            if (context.map._panes != null) {\n                // @ts-ignore map internals\n                context.map._panes = omitPane(context.map._panes, paneName);\n                // @ts-ignore map internals\n                context.map._paneRenderers = omitPane(// @ts-ignore map internals\n                context.map._paneRenderers, paneName);\n            }\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return props.children != null && paneElement != null ? /*#__PURE__*/ createPortal(/*#__PURE__*/ React.createElement(LeafletProvider, {\n        value: newContext\n    }, props.children), paneElement) : null;\n}\nexport const Pane = /*#__PURE__*/ forwardRef(PaneComponent);\n"],"mappings":"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"}