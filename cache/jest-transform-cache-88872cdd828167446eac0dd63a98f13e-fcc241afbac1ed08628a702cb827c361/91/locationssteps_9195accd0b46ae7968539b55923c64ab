0e52aeb41f49e2d66eb3bad792f424d8
"use strict";

_getJestObj().mock("axios");
var _react = _interopRequireDefault(require("react"));
var _jestCucumber = require("jest-cucumber");
var _react2 = require("@testing-library/react");
require("text-encoding");
require("@testing-library/jest-dom/extend-expect");
var _reactRedux = require("react-redux");
var _toolkit = require("@reduxjs/toolkit");
var _locationSlice = _interopRequireDefault(require("./../../reducers/reducer/locationSlice"));
var _reactRouterDom = require("react-router-dom");
var _Locations = _interopRequireDefault(require("../../Locations"));
var _Map = _interopRequireDefault(require("../../Map"));
var _axios = _interopRequireDefault(require("axios"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const feature = (0, _jestCucumber.loadFeature)("src/components/features/locations.feature");
(0, _jestCucumber.defineFeature)(feature, test => {
  test("Displaying Current Location", ({
    given,
    when,
    then
  }) => {
    const store = (0, _toolkit.configureStore)({
      reducer: {
        locationList: _locationSlice.default
      }
    });
    const mockPosition = {
      coords: {
        latitude: 37.7749,
        longitude: -122.4194
      }
    };
    const mockAddressResponse = {
      data: {
        results: [{
          formatted_address: "123 Street, Hyd"
        }]
      }
    };
    _axios.default.get.mockResolvedValueOnce(mockAddressResponse);
    given("the user is on the Locations page", () => {
      const mockGeolocation = {
        getCurrentPosition: jest.fn(successCallback => {
          successCallback(mockPosition);
        })
      };
      Object.defineProperty(global.navigator, "geolocation", {
        value: mockGeolocation,
        configurable: true
      });
      const screen = (0, _react2.render)( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
        store: store
      }, /*#__PURE__*/_react.default.createElement(_reactRouterDom.MemoryRouter, {
        initialEntries: ["/"]
      }, /*#__PURE__*/_react.default.createElement(_reactRouterDom.Routes, null, /*#__PURE__*/_react.default.createElement(_reactRouterDom.Route, {
        path: "/",
        element: /*#__PURE__*/_react.default.createElement(_Locations.default, null)
      }), /*#__PURE__*/_react.default.createElement(_reactRouterDom.Route, {
        path: "/map",
        element: /*#__PURE__*/_react.default.createElement(_Map.default, null)
      })))));
      expect(screen).toBeTruthy();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9qZXN0Q3VjdW1iZXIiLCJfcmVhY3QyIiwiX3JlYWN0UmVkdXgiLCJfdG9vbGtpdCIsIl9sb2NhdGlvblNsaWNlIiwiX3JlYWN0Um91dGVyRG9tIiwiX0xvY2F0aW9ucyIsIl9NYXAiLCJfYXhpb3MiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImplc3QiLCJmZWF0dXJlIiwibG9hZEZlYXR1cmUiLCJkZWZpbmVGZWF0dXJlIiwidGVzdCIsImdpdmVuIiwid2hlbiIsInRoZW4iLCJzdG9yZSIsImNvbmZpZ3VyZVN0b3JlIiwicmVkdWNlciIsImxvY2F0aW9uTGlzdCIsImxvY2F0aW9uU2xpY2UiLCJtb2NrUG9zaXRpb24iLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIm1vY2tBZGRyZXNzUmVzcG9uc2UiLCJkYXRhIiwicmVzdWx0cyIsImZvcm1hdHRlZF9hZGRyZXNzIiwiYXhpb3MiLCJnZXQiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJtb2NrR2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJmbiIsInN1Y2Nlc3NDYWxsYmFjayIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2xvYmFsIiwibmF2aWdhdG9yIiwidmFsdWUiLCJjb25maWd1cmFibGUiLCJzY3JlZW4iLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJNZW1vcnlSb3V0ZXIiLCJpbml0aWFsRW50cmllcyIsIlJvdXRlcyIsIlJvdXRlIiwicGF0aCIsImVsZW1lbnQiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5Il0sInNvdXJjZXMiOlsibG9jYXRpb25zLnN0ZXBzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGRlZmluZUZlYXR1cmUsIGxvYWRGZWF0dXJlIH0gZnJvbSBcImplc3QtY3VjdW1iZXJcIjtcclxuaW1wb3J0IHsgZmlyZUV2ZW50LCByZW5kZXIsIHdhaXRGb3IsIGFjdCB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0XCI7XHJcbmltcG9ydCBcInRleHQtZW5jb2RpbmdcIjtcclxuaW1wb3J0IFwiQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbS9leHRlbmQtZXhwZWN0XCI7XHJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XHJcbmltcG9ydCB7IGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcclxuaW1wb3J0IGxvY2F0aW9uU2xpY2UsIHtcclxuICBhZGRQcmV2aW91c0xvY2F0aW9uLFxyXG4gIGNsZWFyUHJldmlvdXNMb2NhdGlvbnMsXHJcbiAgcmVtb3ZlUHJldmlvdXNMb2NhdGlvbixcclxuICBzZXRDdXJyZW50TG9jYXRpb24sXHJcbn0gZnJvbSBcIi4vLi4vLi4vcmVkdWNlcnMvcmVkdWNlci9sb2NhdGlvblNsaWNlXCI7XHJcbmltcG9ydCB7XHJcbiAgQnJvd3NlclJvdXRlciBhcyBSb3V0ZXIsXHJcbiAgUm91dGVzLFxyXG4gIFJvdXRlLFxyXG4gIE1lbW9yeVJvdXRlcixcclxufSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgTG9jYXRpb25zIGZyb20gXCIuLi8uLi9Mb2NhdGlvbnNcIjtcclxuaW1wb3J0IE1hcCBmcm9tIFwiLi4vLi4vTWFwXCI7XHJcbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcclxuamVzdC5tb2NrKFwiYXhpb3NcIik7XHJcbmNvbnN0IGZlYXR1cmUgPSBsb2FkRmVhdHVyZShcInNyYy9jb21wb25lbnRzL2ZlYXR1cmVzL2xvY2F0aW9ucy5mZWF0dXJlXCIpO1xyXG5cclxuZGVmaW5lRmVhdHVyZShmZWF0dXJlLCAodGVzdCkgPT4ge1xyXG4gIHRlc3QoXCJEaXNwbGF5aW5nIEN1cnJlbnQgTG9jYXRpb25cIiwgKHsgZ2l2ZW4sIHdoZW4sIHRoZW4gfSkgPT4ge1xyXG4gICAgY29uc3Qgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7XHJcbiAgICAgIHJlZHVjZXI6IHtcclxuICAgICAgICBsb2NhdGlvbkxpc3Q6IGxvY2F0aW9uU2xpY2UsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG1vY2tQb3NpdGlvbiA9IHtcclxuICAgICAgY29vcmRzOiB7XHJcbiAgICAgICAgbGF0aXR1ZGU6IDM3Ljc3NDksXHJcbiAgICAgICAgbG9uZ2l0dWRlOiAtMTIyLjQxOTQsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW9ja0FkZHJlc3NSZXNwb25zZSA9IHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHJlc3VsdHM6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZm9ybWF0dGVkX2FkZHJlc3M6IFwiMTIzIFN0cmVldCwgSHlkXCIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIChheGlvcy5nZXQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UobW9ja0FkZHJlc3NSZXNwb25zZSk7XHJcblxyXG4gICAgZ2l2ZW4oXCJ0aGUgdXNlciBpcyBvbiB0aGUgTG9jYXRpb25zIHBhZ2VcIiwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrR2VvbG9jYXRpb24gPSB7XHJcbiAgICAgICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBqZXN0LmZuKChzdWNjZXNzQ2FsbGJhY2spID0+IHtcclxuICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhtb2NrUG9zaXRpb24pO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbC5uYXZpZ2F0b3IsIFwiZ2VvbG9jYXRpb25cIiwge1xyXG4gICAgICAgIHZhbHVlOiBtb2NrR2VvbG9jYXRpb24sXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHNjcmVlbiA9IHJlbmRlcihcclxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cclxuICAgICAgICAgIDxNZW1vcnlSb3V0ZXIgaW5pdGlhbEVudHJpZXM9e1tcIi9cIl19PlxyXG4gICAgICAgICAgICA8Um91dGVzPlxyXG4gICAgICAgICAgICAgIDxSb3V0ZSBwYXRoPVwiL1wiIGVsZW1lbnQ9ezxMb2NhdGlvbnMgLz59IC8+XHJcbiAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvbWFwXCIgZWxlbWVudD17PE1hcCAvPn0gLz5cclxuICAgICAgICAgICAgPC9Sb3V0ZXM+XHJcbiAgICAgICAgICA8L01lbW9yeVJvdXRlcj5cclxuICAgICAgICA8L1Byb3ZpZGVyPlxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHNjcmVlbikudG9CZVRydXRoeSgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBc0JBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxPQUFPLENBQUM7QUF0QmxCLElBQUFDLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FBQUYsT0FBQTtBQUNBQSxPQUFBO0FBQ0FBLE9BQUE7QUFDQSxJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxRQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxjQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFNQSxJQUFBTSxlQUFBLEdBQUFOLE9BQUE7QUFNQSxJQUFBTyxVQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUSxJQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyxNQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFBMEIsU0FBQUQs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