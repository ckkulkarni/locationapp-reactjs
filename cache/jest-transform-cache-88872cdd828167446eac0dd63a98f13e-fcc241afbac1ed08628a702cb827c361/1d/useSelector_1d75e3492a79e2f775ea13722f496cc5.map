{"version":3,"names":["exports","__esModule","createSelectorHook","useSelector","initializeUseSelector","_react","require","_useReduxContext","_Context","_useSyncExternalStore","useSyncExternalStoreWithSelector","notInitialized","fn","refEquality","a","b","context","ReactReduxContext","useReduxContext","createReduxContextHook","selector","equalityFnOrOptions","equalityFn","stabilityCheck","undefined","noopCheck","process","env","NODE_ENV","Error","store","subscription","getServerState","globalStabilityCheck","globalNoopCheck","firstRun","useRef","wrappedSelector","useCallback","name","state","selected","finalStabilityCheck","current","toCompare","console","warn","selected2","finalNoopCheck","selectedState","addNestedSub","getState","useDebugValue"],"sources":["useSelector.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.createSelectorHook = createSelectorHook;\nexports.useSelector = exports.initializeUseSelector = void 0;\n\nvar _react = require(\"react\");\n\nvar _useReduxContext = require(\"./useReduxContext\");\n\nvar _Context = require(\"../components/Context\");\n\nvar _useSyncExternalStore = require(\"../utils/useSyncExternalStore\");\n\nlet useSyncExternalStoreWithSelector = _useSyncExternalStore.notInitialized;\n\nconst initializeUseSelector = fn => {\n  useSyncExternalStoreWithSelector = fn;\n};\n\nexports.initializeUseSelector = initializeUseSelector;\n\nconst refEquality = (a, b) => a === b;\n/**\n * Hook factory, which creates a `useSelector` hook bound to a given context.\n *\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\n * @returns {Function} A `useSelector` hook bound to the specified context.\n */\n\n\nfunction createSelectorHook(context = _Context.ReactReduxContext) {\n  const useReduxContext = context === _Context.ReactReduxContext ? _useReduxContext.useReduxContext : (0, _useReduxContext.createReduxContextHook)(context);\n  return function useSelector(selector, equalityFnOrOptions = {}) {\n    const {\n      equalityFn = refEquality,\n      stabilityCheck = undefined,\n      noopCheck = undefined\n    } = typeof equalityFnOrOptions === 'function' ? {\n      equalityFn: equalityFnOrOptions\n    } : equalityFnOrOptions;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!selector) {\n        throw new Error(`You must pass a selector to useSelector`);\n      }\n\n      if (typeof selector !== 'function') {\n        throw new Error(`You must pass a function as a selector to useSelector`);\n      }\n\n      if (typeof equalityFn !== 'function') {\n        throw new Error(`You must pass a function as an equality function to useSelector`);\n      }\n    }\n\n    const {\n      store,\n      subscription,\n      getServerState,\n      stabilityCheck: globalStabilityCheck,\n      noopCheck: globalNoopCheck\n    } = useReduxContext();\n    const firstRun = (0, _react.useRef)(true);\n    const wrappedSelector = (0, _react.useCallback)({\n      [selector.name](state) {\n        const selected = selector(state);\n\n        if (process.env.NODE_ENV !== 'production') {\n          const finalStabilityCheck = typeof stabilityCheck === 'undefined' ? globalStabilityCheck : stabilityCheck;\n\n          if (finalStabilityCheck === 'always' || finalStabilityCheck === 'once' && firstRun.current) {\n            const toCompare = selector(state);\n\n            if (!equalityFn(selected, toCompare)) {\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned a different result when called with the same parameters. This can lead to unnecessary rerenders.' + '\\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization', {\n                state,\n                selected,\n                selected2: toCompare\n              });\n            }\n          }\n\n          const finalNoopCheck = typeof noopCheck === 'undefined' ? globalNoopCheck : noopCheck;\n\n          if (finalNoopCheck === 'always' || finalNoopCheck === 'once' && firstRun.current) {\n            // @ts-ignore\n            if (selected === state) {\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned the root state when called. This can lead to unnecessary rerenders.' + '\\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.');\n            }\n          }\n\n          if (firstRun.current) firstRun.current = false;\n        }\n\n        return selected;\n      }\n\n    }[selector.name], [selector, globalStabilityCheck, stabilityCheck]);\n    const selectedState = useSyncExternalStoreWithSelector(subscription.addNestedSub, store.getState, getServerState || store.getState, wrappedSelector, equalityFn);\n    (0, _react.useDebugValue)(selectedState);\n    return selectedState;\n  };\n}\n/**\n * A hook to access the redux store's state. This hook takes a selector function\n * as an argument. The selector is called with the store state.\n *\n * This hook takes an optional equality comparison function as the second parameter\n * that allows you to customize the way the selected state is compared to determine\n * whether the component needs to be re-rendered.\n *\n * @param {Function} selector the selector function\n * @param {Function=} equalityFn the function that will be used to determine equality\n *\n * @returns {any} the selected state\n *\n * @example\n *\n * import React from 'react'\n * import { useSelector } from 'react-redux'\n *\n * export const CounterComponent = () => {\n *   const counter = useSelector(state => state.counter)\n *   return <div>{counter}</div>\n * }\n */\n\n\nconst useSelector = /*#__PURE__*/createSelectorHook();\nexports.useSelector = useSelector;"],"mappings":"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"}