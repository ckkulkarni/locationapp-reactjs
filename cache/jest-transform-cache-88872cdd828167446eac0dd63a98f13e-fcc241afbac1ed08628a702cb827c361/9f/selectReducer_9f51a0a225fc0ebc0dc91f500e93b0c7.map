{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","selectReducer","_extends2","_useList","_useSelect","state","action","open","context","selectionMode","type","SelectActionTypes","buttonClick","_state$selectedValues","itemToHighlight","selectedValues","moveHighlight","default","highlightedValue","newState","listReducer","ListActionTypes","keyDown","event","key","_state$selectedValues2","_state$selectedValues3","itemClick","blur"],"sources":["selectReducer.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectReducer = selectReducer;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _useList = require(\"../useList\");\nvar _useSelect = require(\"./useSelect.types\");\nfunction selectReducer(state, action) {\n  const {\n    open\n  } = state;\n  const {\n    context: {\n      selectionMode\n    }\n  } = action;\n  if (action.type === _useSelect.SelectActionTypes.buttonClick) {\n    var _state$selectedValues;\n    const itemToHighlight = (_state$selectedValues = state.selectedValues[0]) != null ? _state$selectedValues : (0, _useList.moveHighlight)(null, 'start', action.context);\n    return (0, _extends2.default)({}, state, {\n      open: !open,\n      highlightedValue: !open ? itemToHighlight : null\n    });\n  }\n  const newState = (0, _useList.listReducer)(state, action);\n  switch (action.type) {\n    case _useList.ListActionTypes.keyDown:\n      if (state.open) {\n        if (action.event.key === 'Escape') {\n          return (0, _extends2.default)({}, newState, {\n            open: false\n          });\n        }\n        if (selectionMode === 'single' && (action.event.key === 'Enter' || action.event.key === ' ')) {\n          return (0, _extends2.default)({}, newState, {\n            open: false\n          });\n        }\n      } else {\n        if (action.event.key === 'Enter' || action.event.key === ' ' || action.event.key === 'ArrowDown') {\n          var _state$selectedValues2;\n          return (0, _extends2.default)({}, state, {\n            open: true,\n            highlightedValue: (_state$selectedValues2 = state.selectedValues[0]) != null ? _state$selectedValues2 : (0, _useList.moveHighlight)(null, 'start', action.context)\n          });\n        }\n        if (action.event.key === 'ArrowUp') {\n          var _state$selectedValues3;\n          return (0, _extends2.default)({}, state, {\n            open: true,\n            highlightedValue: (_state$selectedValues3 = state.selectedValues[0]) != null ? _state$selectedValues3 : (0, _useList.moveHighlight)(null, 'end', action.context)\n          });\n        }\n      }\n      break;\n    case _useList.ListActionTypes.itemClick:\n      if (selectionMode === 'single') {\n        return (0, _extends2.default)({}, newState, {\n          open: false\n        });\n      }\n      break;\n    case _useList.ListActionTypes.blur:\n      return (0, _extends2.default)({}, newState, {\n        open: false\n      });\n    default:\n      return newState;\n  }\n  return newState;\n}"],"mappings":"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"}